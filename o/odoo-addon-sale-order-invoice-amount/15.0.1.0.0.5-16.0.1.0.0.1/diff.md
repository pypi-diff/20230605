# Comparing `tmp/odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5-py3-none-any.whl.zip` & `tmp/odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,20 +1,22 @@
-Zip file size: 23731 bytes, number of entries: 18
--rw-r--r--  2.0 unx     2848 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/README.rst
--rw-r--r--  2.0 unx       21 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/__init__.py
--rw-r--r--  2.0 unx      652 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/__manifest__.py
--rw-r--r--  2.0 unx     1398 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/i18n/sale_order_invoice_amount.pot
--rw-r--r--  2.0 unx       25 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/models/__init__.py
--rw-r--r--  2.0 unx     2387 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/models/sale_order.py
--rw-r--r--  2.0 unx       82 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx      162 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx     9455 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/static/description/icon.png
--rw-r--r--  2.0 unx    12096 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/static/description/index.html
--rw-r--r--  2.0 unx     1376 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/static/src/xml/tax_totals.xml
--rw-r--r--  2.0 unx       45 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/tests/__init__.py
--rw-r--r--  2.0 unx     4070 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/tests/test_sale_order_invoice_amount.py
--rw-r--r--  2.0 unx      716 b- defN 22-Aug-02 06:38 odoo/addons/sale_order_invoice_amount/views/sale_order_view.xml
--rw-r--r--  2.0 unx     3440 b- defN 22-Aug-02 06:38 odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Aug-02 06:38 odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 22-Aug-02 06:38 odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2080 b- defN 22-Aug-02 06:38 odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/RECORD
-18 files, 40950 bytes uncompressed, 20095 bytes compressed:  50.9%
+Zip file size: 25367 bytes, number of entries: 20
+-rw-r--r--  2.0 unx     2848 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/README.rst
+-rw-r--r--  2.0 unx       54 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/__init__.py
+-rw-r--r--  2.0 unx      728 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/__manifest__.py
+-rw-r--r--  2.0 unx     2532 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/hooks.py
+-rw-r--r--  2.0 unx     1740 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/i18n/es.po
+-rw-r--r--  2.0 unx     1615 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/i18n/sale_order_invoice_amount.pot
+-rw-r--r--  2.0 unx       25 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/models/__init__.py
+-rw-r--r--  2.0 unx     2556 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/models/sale_order.py
+-rw-r--r--  2.0 unx       82 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx      162 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/static/description/icon.png
+-rw-r--r--  2.0 unx    12096 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/static/description/index.html
+-rw-r--r--  2.0 unx     1276 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/static/src/xml/tax_totals.xml
+-rw-r--r--  2.0 unx       45 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/tests/__init__.py
+-rw-r--r--  2.0 unx     4030 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/tests/test_sale_order_invoice_amount.py
+-rw-r--r--  2.0 unx      718 b- defN 23-Jun-05 15:47 odoo/addons/sale_order_invoice_amount/views/sale_order_view.xml
+-rw-r--r--  2.0 unx     3441 b- defN 23-Jun-05 15:47 odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-05 15:47 odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-05 15:47 odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2288 b- defN 23-Jun-05 15:47 odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/RECORD
+20 files, 45788 bytes uncompressed, 21391 bytes compressed:  53.3%
```

## zipnote {}

```diff
@@ -3,14 +3,20 @@
 
 Filename: odoo/addons/sale_order_invoice_amount/__init__.py
 Comment: 
 
 Filename: odoo/addons/sale_order_invoice_amount/__manifest__.py
 Comment: 
 
+Filename: odoo/addons/sale_order_invoice_amount/hooks.py
+Comment: 
+
+Filename: odoo/addons/sale_order_invoice_amount/i18n/es.po
+Comment: 
+
 Filename: odoo/addons/sale_order_invoice_amount/i18n/sale_order_invoice_amount.pot
 Comment: 
 
 Filename: odoo/addons/sale_order_invoice_amount/models/__init__.py
 Comment: 
 
 Filename: odoo/addons/sale_order_invoice_amount/models/sale_order.py
@@ -36,20 +42,20 @@
 
 Filename: odoo/addons/sale_order_invoice_amount/tests/test_sale_order_invoice_amount.py
 Comment: 
 
 Filename: odoo/addons/sale_order_invoice_amount/views/sale_order_view.xml
 Comment: 
 
-Filename: odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/METADATA
+Filename: odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/WHEEL
+Filename: odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/top_level.txt
+Filename: odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/RECORD
+Filename: odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/sale_order_invoice_amount/README.rst

```diff
@@ -10,21 +10,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-LGPL--3-blue.png
     :target: http://www.gnu.org/licenses/lgpl-3.0-standalone.html
     :alt: License: LGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsale--workflow-lightgray.png?logo=github
-    :target: https://github.com/OCA/sale-workflow/tree/15.0/sale_order_invoice_amount
+    :target: https://github.com/OCA/sale-workflow/tree/16.0/sale_order_invoice_amount
     :alt: OCA/sale-workflow
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/sale-workflow-15-0/sale-workflow-15-0-sale_order_invoice_amount
+    :target: https://translation.odoo-community.org/projects/sale-workflow-16-0/sale-workflow-16-0-sale_order_invoice_amount
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/167/15.0
+    :target: https://runbot.odoo-community.org/runbot/167/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 The purpose of this module is to add two fields in the sale order model:
 
 * invoiced_amount: total invoiced amount.
@@ -37,15 +37,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/sale-workflow/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sale_order_invoice_amount%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sale_order_invoice_amount%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -68,10 +68,10 @@
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/15.0/sale_order_invoice_amount>`_ project on GitHub.
+This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/16.0/sale_order_invoice_amount>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## odoo/addons/sale_order_invoice_amount/__init__.py

```diff
@@ -1 +1,2 @@
 from . import models
+from .hooks import pre_init_hook
```

## odoo/addons/sale_order_invoice_amount/__manifest__.py

```diff
@@ -1,20 +1,26 @@
 # Copyright (C) 2021 ForgeFlow S.L.
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html)
 
 {
     "name": "Sale Order Invoice Amount",
-    "version": "15.0.1.0.0",
+    "version": "16.0.1.0.0",
     "author": "ForgeFlow, Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/sale-workflow",
     "category": "Sales",
     "license": "LGPL-3",
     "summary": "Display the invoiced and uninvoiced total in the sale order",
-    "depends": ["sale", "account"],
-    "data": ["views/sale_order_view.xml"],
+    "depends": [
+        "sale",
+        "account",
+    ],
+    "data": [
+        "views/sale_order_view.xml",
+    ],
     "installable": True,
+    "pre_init_hook": "pre_init_hook",
     "assets": {
-        "web.assets_qweb": [
-            "sale_order_invoice_amount/static/src/xml/**/*",
+        "web.assets_backend": [
+            "sale_order_invoice_amount/static/src/xml/*",
         ],
     },
 }
```

## odoo/addons/sale_order_invoice_amount/i18n/sale_order_invoice_amount.pot

```diff
@@ -1,45 +1,47 @@
 # Translation of Odoo Server.
 # This file contains the translation of the following modules:
 # 	* sale_order_invoice_amount
 #
 msgid ""
 msgstr ""
-"Project-Id-Version: Odoo Server 15.0\n"
+"Project-Id-Version: Odoo Server 16.0\n"
 "Report-Msgid-Bugs-To: \n"
 "Last-Translator: \n"
 "Language-Team: \n"
 "MIME-Version: 1.0\n"
 "Content-Type: text/plain; charset=UTF-8\n"
 "Content-Transfer-Encoding: \n"
 "Plural-Forms: \n"
 
 #. module: sale_order_invoice_amount
-#. openerp-web
+#. odoo-javascript
 #: code:addons/sale_order_invoice_amount/static/src/xml/tax_totals.xml:0
 #: model:ir.model.fields,field_description:sale_order_invoice_amount.field_sale_order__invoiced_amount
+#: model_terms:ir.ui.view,arch_db:sale_order_invoice_amount.view_order_tree_invoiced_amount
 #, python-format
 msgid "Invoiced Amount"
 msgstr ""
 
 #. module: sale_order_invoice_amount
-#: model_terms:ir.ui.view,arch_db:sale_order_invoice_amount.view_order_tree_invoiced_amount
-msgid "Invoiced Total"
+#: model:ir.model.fields,help:sale_order_invoice_amount.field_sale_order__invoiced_amount
+msgid "Order amount already invoiced."
+msgstr ""
+
+#. module: sale_order_invoice_amount
+#: model:ir.model.fields,help:sale_order_invoice_amount.field_sale_order__uninvoiced_amount
+msgid "Order amount to be invoiced"
 msgstr ""
 
 #. module: sale_order_invoice_amount
 #: model:ir.model,name:sale_order_invoice_amount.model_sale_order
 msgid "Sales Order"
 msgstr ""
 
 #. module: sale_order_invoice_amount
-#. openerp-web
+#. odoo-javascript
 #: code:addons/sale_order_invoice_amount/static/src/xml/tax_totals.xml:0
 #: model:ir.model.fields,field_description:sale_order_invoice_amount.field_sale_order__uninvoiced_amount
+#: model_terms:ir.ui.view,arch_db:sale_order_invoice_amount.view_order_tree_invoiced_amount
 #, python-format
 msgid "Uninvoiced Amount"
 msgstr ""
-
-#. module: sale_order_invoice_amount
-#: model_terms:ir.ui.view,arch_db:sale_order_invoice_amount.view_order_tree_invoiced_amount
-msgid "Uninvoiced Total"
-msgstr ""
```

## odoo/addons/sale_order_invoice_amount/models/sale_order.py

```diff
@@ -1,42 +1,43 @@
 # Copyright (C) 2021 ForgeFlow S.L.
 # License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl.html)
-import json
-
 from odoo import api, fields, models
 from odoo.tools.misc import formatLang
 
 
 class SaleOrder(models.Model):
     _inherit = "sale.order"
 
     invoiced_amount = fields.Monetary(
         compute="_compute_invoice_amount",
         store=True,
+        help="Order amount already invoiced.",
     )
 
     uninvoiced_amount = fields.Monetary(
         compute="_compute_invoice_amount",
         store=True,
+        help="Order amount to be invoiced",
     )
 
     @api.depends(
         "state",
         "invoice_ids",
-        "invoice_ids.amount_total_signed",
+        "invoice_ids.amount_total_in_currency_signed",
         "amount_total",
         "invoice_ids.state",
     )
     def _compute_invoice_amount(self):
         for rec in self:
             if rec.state != "cancel" and rec.invoice_ids:
-                rec.invoiced_amount = 0.0
+                invoiced_amount = 0.0
                 for invoice in rec.invoice_ids:
                     if invoice.state != "cancel":
-                        rec.invoiced_amount += invoice.amount_total_signed
+                        invoiced_amount += invoice.amount_total_in_currency_signed
+                rec.invoiced_amount = invoiced_amount
                 rec.uninvoiced_amount = max(0, rec.amount_total - rec.invoiced_amount)
             else:
                 rec.invoiced_amount = 0.0
                 if rec.state in ["draft", "sent", "cancel"]:
                     rec.uninvoiced_amount = 0.0
                 else:
                     rec.uninvoiced_amount = rec.amount_total
@@ -44,29 +45,30 @@
     @api.depends(
         "order_line.tax_id",
         "order_line.price_unit",
         "amount_total",
         "amount_untaxed",
         "state",
         "invoice_ids",
-        "invoice_ids.amount_total_signed",
+        "invoice_ids.amount_total_in_currency_signed",
         "amount_total",
         "invoice_ids.state",
     )
-    def _compute_tax_totals_json(self):
-        res = super(SaleOrder, self)._compute_tax_totals_json()
-        lang_env = self.with_context(lang=self.partner_id.lang).env
-        total_json = json.loads(self.tax_totals_json)
-        total_json.update(
-            {
-                "invoiced_amount": self.invoiced_amount,
-                "formatted_invoiced_amount": formatLang(
-                    lang_env, self.invoiced_amount, currency_obj=self.currency_id
-                ),
-                "uninvoiced_amount": self.uninvoiced_amount,
-                "formatted_uninvoiced_amount": formatLang(
-                    lang_env, self.uninvoiced_amount, currency_obj=self.currency_id
-                ),
-            }
-        )
-        self.tax_totals_json = json.dumps(total_json)
+    def _compute_tax_totals(self):
+        res = super()._compute_tax_totals()
+        for order in self:
+            lang_env = order.with_context(lang=order.partner_id.lang).env
+            order.tax_totals.update(
+                {
+                    "invoiced_amount": order.invoiced_amount,
+                    "formatted_invoiced_amount": formatLang(
+                        lang_env, order.invoiced_amount, currency_obj=order.currency_id
+                    ),
+                    "uninvoiced_amount": order.uninvoiced_amount,
+                    "formatted_uninvoiced_amount": formatLang(
+                        lang_env,
+                        order.uninvoiced_amount,
+                        currency_obj=order.currency_id,
+                    ),
+                }
+            )
         return res
```

## odoo/addons/sale_order_invoice_amount/static/description/index.html

### odoo/addons/sale_order_invoice_amount/static/description/index.html

```diff
@@ -367,21 +367,21 @@
       <p>
         <a class="reference external" href="https://odoo-community.org/page/development-status">
           <img alt="Beta" src="https://img.shields.io/badge/maturity-Beta-yellow.png"/>
         </a>
         <a class="reference external" href="http://www.gnu.org/licenses/lgpl-3.0-standalone.html">
           <img alt="License: LGPL-3" src="https://img.shields.io/badge/licence-LGPL--3-blue.png"/>
         </a>
-        <a class="reference external" href="https://github.com/OCA/sale-workflow/tree/15.0/sale_order_invoice_amount">
+        <a class="reference external" href="https://github.com/OCA/sale-workflow/tree/16.0/sale_order_invoice_amount">
           <img alt="OCA/sale-workflow" src="https://img.shields.io/badge/github-OCA%2Fsale--workflow-lightgray.png?logo=github"/>
         </a>
-        <a class="reference external" href="https://translation.odoo-community.org/projects/sale-workflow-15-0/sale-workflow-15-0-sale_order_invoice_amount">
+        <a class="reference external" href="https://translation.odoo-community.org/projects/sale-workflow-16-0/sale-workflow-16-0-sale_order_invoice_amount">
           <img alt="Translate me on Weblate" src="https://img.shields.io/badge/weblate-Translate%20me-F47D42.png"/>
         </a>
-        <a class="reference external" href="https://runbot.odoo-community.org/runbot/167/15.0">
+        <a class="reference external" href="https://runbot.odoo-community.org/runbot/167/16.0">
           <img alt="Try me on Runbot" src="https://img.shields.io/badge/runbot-Try%20me-875A7B.png"/>
         </a>
       </p>
       <p>The purpose of this module is to add two fields in the sale order model:</p>
       <ul class="simple">
         <li>invoiced_amount: total invoiced amount.</li>
         <li>uninvoiced_amount: total uninvoiced amount.</li>
@@ -416,15 +416,15 @@
         </h1>
         <p>
           Bugs are tracked on
           <a class="reference external" href="https://github.com/OCA/sale-workflow/issues">GitHub Issues</a>
           .
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-          <a class="reference external" href="https://github.com/OCA/sale-workflow/issues/new?body=module:%20sale_order_invoice_amount%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
+          <a class="reference external" href="https://github.com/OCA/sale-workflow/issues/new?body=module:%20sale_order_invoice_amount%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**">feedback</a>
           .
         </p>
         <p>Do not contact contributors directly about support or help with technical issues.</p>
       </div>
       <div class="section" id="credits">
         <h1>
           <a class="toc-backref" href="#id2">Credits</a>
@@ -463,15 +463,15 @@
             <img alt="Odoo Community Association" src="https://odoo-community.org/logo.png"/>
           </a>
           <p>OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.</p>
           <p>
             This module is part of the
-            <a class="reference external" href="https://github.com/OCA/sale-workflow/tree/15.0/sale_order_invoice_amount">OCA/sale-workflow</a>
+            <a class="reference external" href="https://github.com/OCA/sale-workflow/tree/16.0/sale_order_invoice_amount">OCA/sale-workflow</a>
             project on GitHub.
           </p>
           <p>
             You are welcome to contribute. To learn how please visit
             <a class="reference external" href="https://odoo-community.org/page/Contribute">https://odoo-community.org/page/Contribute</a>
             .
           </p>
```

## odoo/addons/sale_order_invoice_amount/static/src/xml/tax_totals.xml

### odoo/addons/sale_order_invoice_amount/static/src/xml/tax_totals.xml

```diff
@@ -1,25 +1,23 @@
 <?xml version="1.0" encoding="utf-8"?>
 <templates>
   <t t-name="sale_order_invoice_amount.TaxTotalsField" t-inherit="account.TaxTotalsField" t-inherit-mode="extension">
-    <xpath expr="//table" position="after">
-      <table t-if="totals.value" class="oe_right mt-3">
-        <tr>
-          <td class="o_td_label">
-            <label class="o_form_label o_tax_total_label">Invoiced Amount</label>
-          </td>
-          <td>
-            <span style="white-space: nowrap;" t-esc="totals.value.formatted_invoiced_amount"/>
-          </td>
-        </tr>
-        <tr>
-          <td class="o_td_label">
-            <label class="o_form_label o_tax_total_label">Uninvoiced Amount</label>
-          </td>
-          <td>
-            <span style="white-space: nowrap; " t-esc="totals.value.formatted_uninvoiced_amount"/>
-          </td>
-        </tr>
-      </table>
+    <xpath expr="//table/tbody/tr[last()]" position="after">
+      <tr t-if="totals.formatted_invoiced_amount">
+        <td class="o_td_label">
+          <label class="o_form_label o_tax_total_label">Invoiced Amount</label>
+        </td>
+        <td>
+          <span style="white-space: nowrap;" t-esc="totals.formatted_invoiced_amount"/>
+        </td>
+      </tr>
+      <tr t-if="totals.formatted_uninvoiced_amount">
+        <td class="o_td_label">
+          <label class="o_form_label o_tax_total_label">Uninvoiced Amount</label>
+        </td>
+        <td>
+          <span style="white-space: nowrap; " t-esc="totals.formatted_uninvoiced_amount"/>
+        </td>
+      </tr>
     </xpath>
   </t>
 </templates>
```

## odoo/addons/sale_order_invoice_amount/tests/test_sale_order_invoice_amount.py

```diff
@@ -6,71 +6,60 @@
 
 class TestSaleOrderInvoiceAmount(common.TransactionCase):
     @classmethod
     def setUpClass(cls):
         super().setUpClass()
 
         # Partners
-        cls.res_partner_1 = cls.env["res.partner"].create({"name": "Wood Corner"})
-        cls.res_partner_address_1 = cls.env["res.partner"].create(
+        partner_model = cls.env["res.partner"]
+        cls.res_partner_1 = partner_model.create({"name": "Wood Corner"})
+        cls.res_partner_address_1 = partner_model.create(
             {"name": "Willie Burke", "parent_id": cls.res_partner_1.id}
         )
-        cls.res_partner_2 = cls.env["res.partner"].create({"name": "Partner 12"})
+        cls.res_partner_2 = partner_model.create({"name": "Partner 12"})
         # Products
-        cls.product_1 = cls.env["product.product"].create(
-            {"name": "Desk Combination", "type": "product"}
+        product_model = cls.env["product.product"]
+        cls.product_1 = product_model.create(
+            {"name": "Desk Combination", "type": "consu"}
         )
-        cls.product_2 = cls.env["product.product"].create(
-            {"name": "Conference Chair", "type": "product"}
+        cls.product_2 = product_model.create(
+            {"name": "Conference Chair", "type": "consu"}
         )
-        cls.product_3 = cls.env["product.product"].create(
+        cls.product_3 = product_model.create(
             {"name": "Repair Services", "type": "service"}
         )
-        # Location
-        cls.stock_warehouse = cls.env["stock.warehouse"].search(
-            [("company_id", "=", cls.env.company.id)], limit=1
-        )
-        cls.stock_location_14 = cls.env["stock.location"].create(
-            {"name": "Shelf 2", "location_id": cls.stock_warehouse.lot_stock_id.id}
-        )
-        # Replenish products
-        cls.env["stock.quant"]._update_available_quantity(
-            cls.product_1, cls.stock_location_14, 10
-        )
-        cls.env["stock.quant"]._update_available_quantity(
-            cls.product_2, cls.stock_location_14, 10
-        )
         # Sale Order
         cls.tax = cls.env["account.tax"].create(
             {"name": "Tax 15", "type_tax_use": "sale", "amount": 21}
         )
         cls.sale_order_1 = cls.env["sale.order"].create(
             {"partner_id": cls.res_partner_1.id}
         )
-        cls.order_line_1 = cls.env["sale.order.line"].create(
+        sale_order_line_model = cls.env["sale.order.line"]
+        cls.order_line_1 = sale_order_line_model.create(
             {
                 "order_id": cls.sale_order_1.id,
                 "product_id": cls.product_1.id,
                 "product_uom": cls.product_1.uom_id.id,
                 "product_uom_qty": 10.0,
                 "price_unit": 10.0,
                 "tax_id": cls.tax,
             }
         )
-        cls.order_line_2 = cls.env["sale.order.line"].create(
+        cls.order_line_2 = sale_order_line_model.create(
             {
                 "order_id": cls.sale_order_1.id,
                 "product_id": cls.product_2.id,
                 "product_uom": cls.product_2.uom_id.id,
                 "product_uom_qty": 25.0,
                 "price_unit": 4.0,
                 "tax_id": cls.tax,
             }
         )
-        cls.order_line_3 = cls.env["sale.order.line"].create(
+        cls.order_line_3 = sale_order_line_model.create(
             {
                 "order_id": cls.sale_order_1.id,
                 "product_id": cls.product_3.id,
                 "product_uom": cls.product_3.uom_id.id,
                 "product_uom_qty": 20.0,
                 "price_unit": 5.0,
                 "tax_id": cls.tax,
@@ -108,7 +97,24 @@
         self.sale_order_1.action_confirm()
         self.sale_order_1._create_invoices(final=True)
         self.assertEqual(
             self.sale_order_1.invoiced_amount,
             363.0,
             "Invoiced Amount should be calculated",
         )
+        tax_totals = self.sale_order_1.tax_totals
+        self.assertEqual(
+            tax_totals["invoiced_amount"],
+            363.0,
+        )
+        self.assertEqual(
+            tax_totals["uninvoiced_amount"],
+            0.0,
+        )
+        self.assertEqual(
+            tax_totals["formatted_invoiced_amount"],
+            "$\xa0363.00",
+        )
+        self.assertEqual(
+            tax_totals["formatted_uninvoiced_amount"],
+            "$\xa00.00",
+        )
```

## odoo/addons/sale_order_invoice_amount/views/sale_order_view.xml

### odoo/addons/sale_order_invoice_amount/views/sale_order_view.xml

```diff
@@ -2,13 +2,13 @@
 <odoo>
   <record id="view_order_tree_invoiced_amount" model="ir.ui.view">
     <field name="name">sale.order.tree.invoiced_amount</field>
     <field name="model">sale.order</field>
     <field name="inherit_id" ref="sale.view_order_tree"/>
     <field name="arch" type="xml">
       <xpath expr="//field[@name='amount_tax']" position="after">
-        <field name="invoiced_amount" sum="Invoiced Total" optional="hide"/>
-        <field name="uninvoiced_amount" sum="Uninvoiced Total" optional="hide"/>
+        <field name="invoiced_amount" sum="Invoiced Amount" optional="hide"/>
+        <field name="uninvoiced_amount" sum="Uninvoiced Amount" optional="hide"/>
       </xpath>
     </field>
   </record>
 </odoo>
```

## Comparing `odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/METADATA` & `odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/METADATA`

 * *Files 7% similar despite different names*

```diff
@@ -1,22 +1,22 @@
 Metadata-Version: 2.1
 Name: odoo-addon-sale-order-invoice-amount
-Version: 15.0.1.0.0.5
+Version: 16.0.1.0.0.1
 Summary: Display the invoiced and uninvoiced total in the sale order
 Home-page: https://github.com/OCA/sale-workflow
 Author: ForgeFlow, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
-Classifier: Framework :: Odoo :: 15.0
+Classifier: Framework :: Odoo :: 16.0
 Classifier: License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)
-Requires-Python: >=3.8
-Requires-Dist: odoo (<15.1dev,>=15.0a)
+Requires-Python: >=3.10
+Requires-Dist: odoo (<16.1dev,>=16.0a)
 
 =========================
 Sale Order Invoice Amount
 =========================
 
 .. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    !! This file is generated by oca-gen-addon-readme !!
@@ -26,21 +26,21 @@
 .. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
     :target: https://odoo-community.org/page/development-status
     :alt: Beta
 .. |badge2| image:: https://img.shields.io/badge/licence-LGPL--3-blue.png
     :target: http://www.gnu.org/licenses/lgpl-3.0-standalone.html
     :alt: License: LGPL-3
 .. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fsale--workflow-lightgray.png?logo=github
-    :target: https://github.com/OCA/sale-workflow/tree/15.0/sale_order_invoice_amount
+    :target: https://github.com/OCA/sale-workflow/tree/16.0/sale_order_invoice_amount
     :alt: OCA/sale-workflow
 .. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
-    :target: https://translation.odoo-community.org/projects/sale-workflow-15-0/sale-workflow-15-0-sale_order_invoice_amount
+    :target: https://translation.odoo-community.org/projects/sale-workflow-16-0/sale-workflow-16-0-sale_order_invoice_amount
     :alt: Translate me on Weblate
 .. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
-    :target: https://runbot.odoo-community.org/runbot/167/15.0
+    :target: https://runbot.odoo-community.org/runbot/167/16.0
     :alt: Try me on Runbot
 
 |badge1| |badge2| |badge3| |badge4| |badge5| 
 
 The purpose of this module is to add two fields in the sale order model:
 
 * invoiced_amount: total invoiced amount.
@@ -53,15 +53,15 @@
 
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/sale-workflow/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
-`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sale_order_invoice_amount%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
+`feedback <https://github.com/OCA/sale-workflow/issues/new?body=module:%20sale_order_invoice_amount%0Aversion:%2016.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
 
 Do not contact contributors directly about support or help with technical issues.
 
 Credits
 =======
 
 Authors
@@ -84,12 +84,12 @@
    :alt: Odoo Community Association
    :target: https://odoo-community.org
 
 OCA, or the Odoo Community Association, is a nonprofit organization whose
 mission is to support the collaborative development of Odoo features and
 promote its widespread use.
 
-This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/15.0/sale_order_invoice_amount>`_ project on GitHub.
+This module is part of the `OCA/sale-workflow <https://github.com/OCA/sale-workflow/tree/16.0/sale_order_invoice_amount>`_ project on GitHub.
 
 You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
```

## Comparing `odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/RECORD` & `odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/RECORD`

 * *Files 16% similar despite different names*

```diff
@@ -1,18 +1,20 @@
-odoo/addons/sale_order_invoice_amount/README.rst,sha256=W8CGn_V6LdReWEDCFd_2yA8EURGCkZiUDHbUgqLLvFA,2848
-odoo/addons/sale_order_invoice_amount/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/sale_order_invoice_amount/__manifest__.py,sha256=7yyYyrYZ2vjR1Sg8tVuCVkyqSE45XnR1VEOKNNWHV9o,652
-odoo/addons/sale_order_invoice_amount/i18n/sale_order_invoice_amount.pot,sha256=erBe-j7lW14dyDiJ4zyx-YRduaFnUf6bnHKljINOvxg,1398
+odoo/addons/sale_order_invoice_amount/README.rst,sha256=N340btNbpD9O2mEhYDo2QzuO7xT1xAXnoIYQm8NvoiE,2848
+odoo/addons/sale_order_invoice_amount/__init__.py,sha256=51x82q48oL6rjfIezEGGIS6sW7DEWQ6J-tIo58Gq5rE,54
+odoo/addons/sale_order_invoice_amount/__manifest__.py,sha256=rtt3HHayas1x9oAkW0dF_Z0Hr4kf7ZxEllmWI4R4WN8,728
+odoo/addons/sale_order_invoice_amount/hooks.py,sha256=Z6hGQR7YDg7gYjiTHiAhUkheNgy9PVy_daUptBGAdeI,2532
+odoo/addons/sale_order_invoice_amount/i18n/es.po,sha256=ynUYE0XS_KKFtAfGdphE68SbCFiM7wt4_HEjGlP1Ceg,1740
+odoo/addons/sale_order_invoice_amount/i18n/sale_order_invoice_amount.pot,sha256=0peOU8oMqLhehW07crYGnxNmabOk1k33E7Swq2jIWzk,1615
 odoo/addons/sale_order_invoice_amount/models/__init__.py,sha256=LsPoCIAYodIFzh85VEjY5GiuzDQDQpiF38txDw10qT0,25
-odoo/addons/sale_order_invoice_amount/models/sale_order.py,sha256=QWlbJWgvj-flU-KGmOtaWsFgHrnojbn7CYlrdJttPOQ,2387
+odoo/addons/sale_order_invoice_amount/models/sale_order.py,sha256=Va_0qQ1E8mVdPiXNxIOmHjgOaiZpwzX5rGcg2MUbLCc,2556
 odoo/addons/sale_order_invoice_amount/readme/CONTRIBUTORS.rst,sha256=7bKMAblf5JxnYA3FD0S6mJAjc66NHzK1kA7c8R4Bd60,82
 odoo/addons/sale_order_invoice_amount/readme/DESCRIPTION.rst,sha256=etGzkE6zolSY4KJ0CWrEaVOp4guPY5o0z703PyKBbLg,162
 odoo/addons/sale_order_invoice_amount/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/sale_order_invoice_amount/static/description/index.html,sha256=a_QD9wcS1kCnIesseS44s_Wk5wNA8NZa1iD6TxKe3r4,12096
-odoo/addons/sale_order_invoice_amount/static/src/xml/tax_totals.xml,sha256=A8PPLoo_IS0q8o13_BbSjyJf0-iRZqX8FobF85C9nIY,1376
+odoo/addons/sale_order_invoice_amount/static/description/index.html,sha256=-SBvy05kd7rmYFSoGil-kfhd8zeUV5iQhdlgaQ49epM,12096
+odoo/addons/sale_order_invoice_amount/static/src/xml/tax_totals.xml,sha256=NuRDQu1SKPeUq-2fcNs-qtC_HnzfdMlkurS-FHFzAvY,1276
 odoo/addons/sale_order_invoice_amount/tests/__init__.py,sha256=bOtLa5dQPtkhcIwpyLFTSCHHvsYJtnCxc3ofgfYrcjY,45
-odoo/addons/sale_order_invoice_amount/tests/test_sale_order_invoice_amount.py,sha256=Zl-6h-tI9IfYMUjx-vlQ3bs6QDgkpEdFrhqgGMRLX4Y,4070
-odoo/addons/sale_order_invoice_amount/views/sale_order_view.xml,sha256=YevOnfvWwBhEvzHxyem8rpkVuZEDowuvjmH_1ZYToI0,716
-odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/METADATA,sha256=ESHh91G88WasDrvwT8vMTmPjq_bxWe3ig_e7h_mplO4,3440
-odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_sale_order_invoice_amount-15.0.1.0.0.5.dist-info/RECORD,,
+odoo/addons/sale_order_invoice_amount/tests/test_sale_order_invoice_amount.py,sha256=w5sl13N1ApaAZuRVD7T-OlB6o3f5GjHTkCFWhW6r-4w,4030
+odoo/addons/sale_order_invoice_amount/views/sale_order_view.xml,sha256=faJXVPU7Nv8a_cNAW5aCDHdAATMDDCll6UEEzAmNuEI,718
+odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/METADATA,sha256=njMj4H3gtHYxWPvdtptiWSSupRjnY7NkT9IooGgdY30,3441
+odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_sale_order_invoice_amount-16.0.1.0.0.1.dist-info/RECORD,,
```

