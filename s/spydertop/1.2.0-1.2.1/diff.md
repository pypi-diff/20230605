# Comparing `tmp/spydertop-1.2.0-py3-none-any.whl.zip` & `tmp/spydertop-1.2.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,35 +1,35 @@
-Zip file size: 83242 bytes, number of entries: 33
--rw-r--r--  2.0 unx      537 b- defN 23-May-31 20:30 spydertop/__init__.py
--rw-r--r--  2.0 unx     6718 b- defN 23-May-31 20:30 spydertop/cli.py
--rw-r--r--  2.0 unx    10209 b- defN 23-May-31 20:30 spydertop/config.py
--rw-r--r--  2.0 unx    25466 b- defN 23-May-31 20:30 spydertop/model.py
--rw-r--r--  2.0 unx    13140 b- defN 23-May-31 20:30 spydertop/recordpool.py
--rw-r--r--  2.0 unx      823 b- defN 23-May-31 20:30 spydertop/constants/__init__.py
--rw-r--r--  2.0 unx    19877 b- defN 23-May-31 20:30 spydertop/constants/columns.py
--rw-r--r--  2.0 unx     3902 b- defN 23-May-31 20:30 spydertop/constants/palettes.py
--rw-r--r--  2.0 unx     2742 b- defN 23-May-31 20:30 spydertop/screens/__init__.py
--rw-r--r--  2.0 unx    35592 b- defN 23-May-31 20:30 spydertop/screens/config.py
--rw-r--r--  2.0 unx     3315 b- defN 23-May-31 20:30 spydertop/screens/failure.py
--rw-r--r--  2.0 unx     4121 b- defN 23-May-31 20:30 spydertop/screens/feedback.py
--rw-r--r--  2.0 unx     2056 b- defN 23-May-31 20:30 spydertop/screens/footer.py
--rw-r--r--  2.0 unx     7578 b- defN 23-May-31 20:30 spydertop/screens/help.py
--rw-r--r--  2.0 unx     7753 b- defN 23-May-31 20:30 spydertop/screens/loading.py
--rw-r--r--  2.0 unx    34811 b- defN 23-May-31 20:30 spydertop/screens/main.py
--rw-r--r--  2.0 unx    11199 b- defN 23-May-31 20:30 spydertop/screens/meters.py
--rw-r--r--  2.0 unx     5855 b- defN 23-May-31 20:30 spydertop/screens/modals.py
--rw-r--r--  2.0 unx     4512 b- defN 23-May-31 20:30 spydertop/screens/quit.py
--rw-r--r--  2.0 unx    12680 b- defN 23-May-31 20:30 spydertop/screens/setup.py
--rw-r--r--  2.0 unx     7688 b- defN 23-May-31 20:30 spydertop/utils/__init__.py
--rw-r--r--  2.0 unx     2242 b- defN 23-May-31 20:30 spydertop/utils/cache.py
--rw-r--r--  2.0 unx     4462 b- defN 23-May-31 20:30 spydertop/utils/cursorlist.py
--rw-r--r--  2.0 unx    16858 b- defN 23-May-31 20:30 spydertop/utils/types.py
--rw-r--r--  2.0 unx     4754 b- defN 23-May-31 20:30 spydertop/widgets/__init__.py
--rw-r--r--  2.0 unx     6246 b- defN 23-May-31 20:30 spydertop/widgets/meter.py
--rw-r--r--  2.0 unx    19510 b- defN 23-May-31 20:30 spydertop/widgets/table.py
--rw-r--r--  2.0 unx     1083 b- defN 23-May-31 20:30 spydertop-1.2.0.dist-info/LICENSE
--rw-r--r--  2.0 unx     6485 b- defN 23-May-31 20:30 spydertop-1.2.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-31 20:30 spydertop-1.2.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       44 b- defN 23-May-31 20:30 spydertop-1.2.0.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       10 b- defN 23-May-31 20:30 spydertop-1.2.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2737 b- defN 23-May-31 20:30 spydertop-1.2.0.dist-info/RECORD
-33 files, 285097 bytes uncompressed, 78896 bytes compressed:  72.3%
+Zip file size: 83447 bytes, number of entries: 33
+-rw-r--r--  2.0 unx      698 b- defN 23-Jun-05 18:23 spydertop/__init__.py
+-rw-r--r--  2.0 unx     6718 b- defN 23-Jun-05 18:23 spydertop/cli.py
+-rw-r--r--  2.0 unx    10227 b- defN 23-Jun-05 18:23 spydertop/config.py
+-rw-r--r--  2.0 unx    25466 b- defN 23-Jun-05 18:23 spydertop/model.py
+-rw-r--r--  2.0 unx    13234 b- defN 23-Jun-05 18:23 spydertop/recordpool.py
+-rw-r--r--  2.0 unx      823 b- defN 23-Jun-05 18:23 spydertop/constants/__init__.py
+-rw-r--r--  2.0 unx    19877 b- defN 23-Jun-05 18:23 spydertop/constants/columns.py
+-rw-r--r--  2.0 unx     3902 b- defN 23-Jun-05 18:23 spydertop/constants/palettes.py
+-rw-r--r--  2.0 unx     2742 b- defN 23-Jun-05 18:23 spydertop/screens/__init__.py
+-rw-r--r--  2.0 unx    35201 b- defN 23-Jun-05 18:23 spydertop/screens/config.py
+-rw-r--r--  2.0 unx     3315 b- defN 23-Jun-05 18:23 spydertop/screens/failure.py
+-rw-r--r--  2.0 unx     4121 b- defN 23-Jun-05 18:23 spydertop/screens/feedback.py
+-rw-r--r--  2.0 unx     2056 b- defN 23-Jun-05 18:23 spydertop/screens/footer.py
+-rw-r--r--  2.0 unx     7578 b- defN 23-Jun-05 18:23 spydertop/screens/help.py
+-rw-r--r--  2.0 unx     7753 b- defN 23-Jun-05 18:23 spydertop/screens/loading.py
+-rw-r--r--  2.0 unx    34957 b- defN 23-Jun-05 18:23 spydertop/screens/main.py
+-rw-r--r--  2.0 unx    11199 b- defN 23-Jun-05 18:23 spydertop/screens/meters.py
+-rw-r--r--  2.0 unx     5855 b- defN 23-Jun-05 18:23 spydertop/screens/modals.py
+-rw-r--r--  2.0 unx     4472 b- defN 23-Jun-05 18:23 spydertop/screens/quit.py
+-rw-r--r--  2.0 unx    12680 b- defN 23-Jun-05 18:23 spydertop/screens/setup.py
+-rw-r--r--  2.0 unx     7740 b- defN 23-Jun-05 18:23 spydertop/utils/__init__.py
+-rw-r--r--  2.0 unx     2242 b- defN 23-Jun-05 18:23 spydertop/utils/cache.py
+-rw-r--r--  2.0 unx     4462 b- defN 23-Jun-05 18:23 spydertop/utils/cursorlist.py
+-rw-r--r--  2.0 unx    16961 b- defN 23-Jun-05 18:23 spydertop/utils/types.py
+-rw-r--r--  2.0 unx     4754 b- defN 23-Jun-05 18:23 spydertop/widgets/__init__.py
+-rw-r--r--  2.0 unx     6246 b- defN 23-Jun-05 18:23 spydertop/widgets/meter.py
+-rw-r--r--  2.0 unx    19510 b- defN 23-Jun-05 18:23 spydertop/widgets/table.py
+-rw-r--r--  2.0 unx     1083 b- defN 23-Jun-05 18:23 spydertop-1.2.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx     6719 b- defN 23-Jun-05 18:23 spydertop-1.2.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-05 18:23 spydertop-1.2.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       44 b- defN 23-Jun-05 18:23 spydertop-1.2.1.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       10 b- defN 23-Jun-05 18:23 spydertop-1.2.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2737 b- defN 23-Jun-05 18:23 spydertop-1.2.1.dist-info/RECORD
+33 files, 285474 bytes uncompressed, 79101 bytes compressed:  72.3%
```

## zipnote {}

```diff
@@ -75,26 +75,26 @@
 
 Filename: spydertop/widgets/meter.py
 Comment: 
 
 Filename: spydertop/widgets/table.py
 Comment: 
 
-Filename: spydertop-1.2.0.dist-info/LICENSE
+Filename: spydertop-1.2.1.dist-info/LICENSE
 Comment: 
 
-Filename: spydertop-1.2.0.dist-info/METADATA
+Filename: spydertop-1.2.1.dist-info/METADATA
 Comment: 
 
-Filename: spydertop-1.2.0.dist-info/WHEEL
+Filename: spydertop-1.2.1.dist-info/WHEEL
 Comment: 
 
-Filename: spydertop-1.2.0.dist-info/entry_points.txt
+Filename: spydertop-1.2.1.dist-info/entry_points.txt
 Comment: 
 
-Filename: spydertop-1.2.0.dist-info/top_level.txt
+Filename: spydertop-1.2.1.dist-info/top_level.txt
 Comment: 
 
-Filename: spydertop-1.2.0.dist-info/RECORD
+Filename: spydertop-1.2.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## spydertop/__init__.py

```diff
@@ -9,15 +9,19 @@
     Spydertop Historical TOP Tool
 
     Provides a way to view the state of a system
     in the past, utilizing the spyderbat apis.
 """
 
 # see the cli function in cli.py for the entry point
+import sys
 from spydertop.cli import cli
 
 if __name__ == "__main__":
     # pylint: disable=no-value-for-parameter
+    # if frozen, then we are running as a pyinstaller executable
+    if getattr(sys, "frozen", False):
+        cli(sys.argv[1:])
 
-    # add arguments as an array of strings as they
-    # would come from the command line for debugging
-    cli(["--log-level", "DEBUG+"])
+    # otherwise, we are running as a python module, likely for debugging
+    # default to debug logging
+    cli(["--log-level", "DEVELOPMENT+"] + sys.argv[1:])
```

## spydertop/config.py

```diff
@@ -162,18 +162,16 @@
             raise click.ClickException(
                 "Failed to load configuration: \nAn unexpected exception occurred."
             ) from exc
 
     @staticmethod
     def _load_config() -> Dict[str, Any]:
         """Loads the configuration file at $HOME/.spyderbat-api/config.yaml"""
-        home = os.environ.get("HOME")
-        config_file_loc = os.path.join(
-            home, ".spyderbat-api/config.yaml"  # type: ignore
-        )
+        config_dir = get_config_dir()
+        config_file_loc = config_dir / "config.yaml"
 
         with open(config_file_loc, encoding="utf-8") as file:
             file_config = yaml.safe_load(file)
 
         return file_config["default"]
 
     def _load_cached_settings(self) -> None:
@@ -278,14 +276,17 @@
             and "*" not in self.machine  # * is a wildcard for the source
             and self.start_time is not None
         ) or not isinstance(self.input, str)
 
 
 def get_config_dir() -> Path:
     """Returns the path to the config directory, ensuring that it exists"""
-    config_dir = os.path.join(os.environ.get("HOME"), ".spyderbat-api/")  # type: ignore
+    home = os.environ.get("HOME")
+    if home is None:
+        raise click.ClickException("Failed to find home directory")
+    config_dir = Path(home) / Path(".spyderbat-api")
 
     # ensure that the config directory exists
-    if not os.path.exists(config_dir):
-        os.mkdir(config_dir)
+    if not config_dir.exists():
+        config_dir.mkdir()
 
     return Path(config_dir)
```

## spydertop/model.py

 * *Ordering differences only*

```diff
@@ -88,22 +88,22 @@
         def guard():
             try:
                 self.load_data(self._timestamp, self.config.start_duration)
             except Exception as exc:  # pylint: disable=broad-except
                 self.fail("An exception occurred while loading data")
                 log.traceback(exc)
 
-        thread = threading.Thread(target=guard)
-        thread.start()
-        self.thread = thread
-
         # if the output file is gzipped, open it with gzip
         if self.config.output and self.config.output.name.endswith(".gz"):
             self.config.output = gzip.open(self.config.output.name, "wt")
 
+        thread = threading.Thread(target=guard)
+        thread.start()
+        self.thread = thread
+
     def init_api(self):
         """Initialize the API client"""
         self._record_pool.init_api()
 
     def load_data(
         self,
         timestamp: Optional[float],
```

## spydertop/recordpool.py

```diff
@@ -157,14 +157,17 @@
             lines = [
                 orjson.dumps(record).decode() + "\n"
                 for group in self.records.values()
                 for record in group.values()
             ]
             self._config.output.writelines(lines)
 
+        self.loaded = True
+        log.debug("Completed loading records")
+
     def _process_records(
         self,
         lines: Union[List[str], List[bytes]],
         progress_increase: float,
         parallel=True,
     ) -> None:
         """Process the loaded records, parsing them and adding them to the model"""
@@ -174,14 +177,15 @@
             str_lines = [line.decode("utf-8") for line in lines]  # type: ignore
         else:
             str_lines: List[str] = lines  # type: ignore
         lines = [line for line in str_lines if len(line.strip()) != 0]
 
         if len(lines) == 0:
             log.info("No records to process")
+            self.progress += progress_increase
             return
 
         # translate the lines from json to a dict in parallel
 
         # for some reason, forking seems to break stdin/out in some cases
         if parallel:
             multiprocessing.set_start_method("spawn")
@@ -202,16 +206,14 @@
             if rec_id in group:
                 curr_rec = group[rec_id]
                 if curr_rec["time"] > record["time"]:
                     # we already have a record with a newer timestamp
                     continue
             group[rec_id] = record
 
-        self.loaded = True
-
     def is_loaded(self, timestamp: float) -> bool:
         """Check if the data is loaded for a given timestamp"""
         return self._time_span_tracker.is_loaded(timestamp)
 
     def load_orgs(self, force_reload=False) -> None:
         """Fetch a list of organization for this api_key"""
```

## spydertop/screens/config.py

```diff
@@ -12,15 +12,15 @@
 
 import os
 import fnmatch
 import re
 from time import sleep
 from threading import Thread
 from datetime import datetime, time, timedelta, timezone, tzinfo
-from typing import Any, Callable, List, Optional, Tuple, Union
+from typing import Any, Callable, List, Optional, Union
 
 import yaml
 from asciimatics.widgets import (
     Frame,
     Text,
     Layout,
     Button,
@@ -273,28 +273,26 @@
                         self.set_cache(orgs=None)
                         self._on_submit = None
                         self.trigger_build()
 
                     self.build_question(
                         "Please select an organization",
                         [
-                            (
-                                [
-                                    org["name"],
-                                    f"Sources: {org['total_sources']}"
-                                    if "total_sources" in org
-                                    else "",
-                                    str(org.get("owner_email", "")),
-                                    ", ".join(org["tags"]) if "tags" in org else "",
-                                    org["uid"],
-                                ],
-                                lambda o=org: self.set_org(o),
-                            )
+                            [
+                                org["name"],
+                                f"Sources: {org['total_sources']}"
+                                if "total_sources" in org
+                                else "",
+                                str(org.get("owner_email", "")),
+                                ", ".join(org["tags"]) if "tags" in org else "",
+                                org["uid"],
+                            ]
                             for org in orgs
                         ],
+                        lambda row: self.set_org(row[4]) if row is not None else None,
                         index,
                         refresh_button=reload_orgs,
                     )
                     return
 
         # if the config source has asterisks, then it is a glob, and we need to
         # ask the user to select one of the sources that match
@@ -389,15 +387,15 @@
                     if len(sources) == 0:
                         self.build_instructions(
                             f"No sources matched '{self.cache['source_glob']}'",
                             lambda: self.set_cache(source_glob=None),
                         )
                         return
                     if len(sources) == 1:
-                        self.set_source(sources[0])
+                        self.set_source(sources[0]["uid"])
                         self._needs_build = True
                         self._screen.force_update()
                         return
 
                 self.set_cache(needs_saving=True)
                 # sort the sources by the last time they were seen
                 sources = sorted(
@@ -432,54 +430,46 @@
                     back = None
                 else:
                     back = back_handler
 
                 self.build_question(
                     "Please select a machine or cluster",
                     [
-                        (
-                            [
-                                "${4}Cluster:",
-                                cluster.get("name", "<No Name>"),
-                                " ",
-                                pretty_datetime(
-                                    datetime.strptime(
-                                        cluster["last_data"],
-                                        "%Y-%m-%dT%H:%M:%SZ",
-                                    )
-                                    .replace(tzinfo=timezone.utc)
-                                    .astimezone(tz=get_timezone(self.model))
+                        [
+                            "${4}Cluster:",
+                            cluster.get("name", "<No Name>"),
+                            " ",
+                            pretty_datetime(
+                                datetime.strptime(
+                                    cluster["last_data"],
+                                    "%Y-%m-%dT%H:%M:%SZ",
                                 )
-                                if "last_data" in cluster
-                                else "",
-                                str(
-                                    datetime.strptime(
-                                        cluster["last_data"],
-                                        "%Y-%m-%dT%H:%M:%SZ",
-                                    )
-                                    .replace(tzinfo=timezone.utc)
-                                    .astimezone(tz=get_timezone(self.model))
-                                ),
-                                cluster.get("uid", ""),
-                            ],
-                            lambda c=cluster: self.set_source(c),
-                        )
+                                .replace(tzinfo=timezone.utc)
+                                .astimezone(tz=get_timezone(self.model))
+                            )
+                            if "last_data" in cluster
+                            else "",
+                            str(
+                                datetime.strptime(
+                                    cluster["last_data"],
+                                    "%Y-%m-%dT%H:%M:%SZ",
+                                )
+                                .replace(tzinfo=timezone.utc)
+                                .astimezone(tz=get_timezone(self.model))
+                            ),
+                            cluster.get("uid", ""),
+                        ]
                         for cluster in sorted(
                             self.cache["clusters"],
                             key=lambda c: c.get("last_data", 0),
                             reverse=True,
                         )
                     ]
-                    + [
-                        (
-                            self.format_source(source),
-                            lambda s=source: self.set_source(s),
-                        )
-                        for source in sources
-                    ],
+                    + [self.format_source(source) for source in sources],
+                    lambda row: self.set_source(row[5]) if row is not None else None,
                     index,
                     self.cache["source_glob"],
                     back,
                     refresh_handler,
                 )
                 return
 
@@ -502,51 +492,42 @@
             self.build_timepicker()
             return
 
         log.err("Reached the end of the config wizard without being complete")
         log.debug(self.config)
         self.build_error("An unexpected error occurred")
 
-    def build_question(  # pylint: disable=too-many-arguments
+    def build_question(  # pylint: disable=too-many-arguments,too-many-locals
         self,
         question: str,
-        answers: List[Tuple[List[str], Callable]],
+        answers: List[List[str]],
+        callback: Callable[[Optional[List[str]]], None],
         index=0,
         search_string: Optional[str] = None,
         back_button: Optional[Callable] = None,
         refresh_button: Optional[Callable] = None,
     ) -> None:
         """Construct a layout that asks a question and has a set of answers, making use of the
         multi-column list box widget."""
         # create column widths
-        columns = [0] * len(answers[0][0])
+        columns = [0] * len(answers[0])
         # we ignore any more than the first 100 answers to avoid
         # taking too long to calculate the column widths
         for answer in answers[:100]:
-            for i in range(len(answer[0])):
-                columns[i] = max(
-                    columns[i], len(re.sub(COLOR_REGEX, "", answer[0][i])) + 1
-                )
+            for i, cell in enumerate(answer):
+                columns[i] = max(columns[i], len(re.sub(COLOR_REGEX, "", cell)) + 1)
         columns = [Column("", min(c, 40), str) for c in columns]
+        # make the last column take up the rest of the space
         columns[-1].max_width = 0
 
-        # list_box = MultiColumnListBox(
-        #     Widget.FILL_FRAME,
-        #     columns,
-        #     [(x[0], i) for i, x in enumerate(answers)],
-        #     parser=ExtendedParser(),
-        #     name="selection",
-        # )
         list_box = Table(self.model, None, "selection")
         list_box.header_enabled = False
         list_box.value = index
         list_box.columns = columns
-        options = [x[0] for x in answers]
-        list_box.set_rows(options, options)
-        # list_box.start_line = 0
+        list_box.set_rows(answers, answers)
         text_input = None
 
         def on_search():
             if text_input is None:
                 return
             self.model.config["filter"] = text_input.value
             list_box.do_filter()
@@ -554,15 +535,16 @@
         text_input = Text(on_change=on_search, name="search")
         if search_string is not None:
             text_input.value = search_string
 
         def on_submit():
             if list_box.value is not None:
                 self.model.config["filter"] = None
-                answers[list_box.value][1]()
+                row = list_box.get_selected()
+                callback([str(v) for v in row[1]] if row is not None else None)
             else:
                 self.set_cache(notification="No option was selected, please select one")
                 self.trigger_build()
 
         self._on_submit = on_submit
 
         self.layout.add_widget(Label(question, align="^"), 1)
@@ -899,26 +881,29 @@
         ]
 
     def set_state(self, key: str, value: Any) -> None:
         """Set a state variable"""
         self.set_cache(**{key: value})
         self.trigger_build()
 
-    def set_org(self, org) -> None:
+    def set_org(self, org_uid: str) -> None:
         """Set the organization"""
-        if org["uid"] != self.config.org:
+        if org_uid != self.config.org:
             self.set_cache(sources=None)
-            self.config.org = org["uid"]
+            self.config.org = org_uid
         self.config.org_confirmed = True
         self.trigger_build()
 
-    def set_source(self, source) -> None:
+    def set_source(self, source_uid: str) -> None:
         """Set the source"""
-        self.config.machine = source["uid"]
-        self.set_cache(source=source)
+        self.config.machine = source_uid
+        sources: list = self.cache["sources"]
+        source = next((s for s in sources if s["uid"] == source_uid), None)
+        if source is not None:
+            self.set_cache(source=source)
         self.config.source_confirmed = True
         self.trigger_build()
 
     def set_start_time(
         self,
         date: datetime,
         time_portion: time,
```

## spydertop/screens/main.py

```diff
@@ -250,14 +250,17 @@
                 return inner
 
             button = Button(name, wrapper(name), add_box=False)
             self._tabs.append(button)
             tabs_layout.add_widget(button, i)
 
         if self._model.config["tab"] not in [t.lower() for t in available_tabs]:
+            if len(available_tabs) == 0:
+                self._model.fail("No records of were found.")
+                raise NextScene("Failure")
             self._model.config["tab"] = available_tabs[0].lower()
 
         ################# Main Table #######################
         self._main = Layout([1], fill_frame=True)
         self.add_layout(self._main)
 
         self._columns = Table(self._model, self._model.tree)
```

## spydertop/screens/quit.py

```diff
@@ -28,15 +28,14 @@
     _single_column = Layout([1])
     _double_column = Layout([1, 1])
     _needs_update = True
     _state: Dict[str, Any]
     _set_state: Callable
 
     def __init__(self, screen: Screen, model: AppModel) -> None:
-        # pylint: disable=line-too-long
         super().__init__(screen, screen.height, screen.width, reduce_cpu=True)
         self._model = model
         self.add_layout(self._single_column)
         self.add_layout(self._double_column)
         self._state, self._set_state = model.use_state(
             "quit_frame",
             {
```

## spydertop/utils/__init__.py

```diff
@@ -134,14 +134,16 @@
         or widget.rebase_event(event).y < 0
         or widget.rebase_event(event).y > widget.canvas.height
     )
 
 
 def calculate_widths(screen_width, desired_columns: List[int]) -> List[int]:
     """Manually calculate the widths for a Layout, as the default has rounding errors."""
+    if len(desired_columns) == 0:
+        return []
     total_desired = sum(desired_columns)
     actual_widths = [int(x / total_desired * screen_width) for x in desired_columns]
     actual_widths[-1] += screen_width - sum(actual_widths)
     return actual_widths
 
 
 def sum_element_wise(
```

## spydertop/utils/types.py

```diff
@@ -175,14 +175,15 @@
     interfere with any normal logging method.
     """
 
     _logs: List[Tuple[int, str, datetime]] = []
     log_level: int
     logger: Optional[logging.Logger] = None
 
+    DEVELOPMENT = logging.NOTSET + 1
     TRACEBACK = logging.DEBUG - 1
     DEBUG = logging.DEBUG
     INFO = logging.INFO
     WARN = logging.WARN
     ERR = logging.ERROR
     LOG_COLORS = {
         logging.DEBUG - 1: "black",
@@ -191,14 +192,15 @@
         logging.WARN: "yellow",
         logging.ERROR: "red",
     }
 
     def __init__(self):
         # require log_level to be set before logging
         logging.addLevelName(self.TRACEBACK, "TRACEBACK")
+        logging.addLevelName(self.DEVELOPMENT, "DEVELOPMENT")
 
     def initialize_development_logging(self):
         """Initialize logging for development purposes, saving to a file."""
         logging.basicConfig(level=self.log_level, filename="spydertop.log")
         self.logger = logging.getLogger("spydertop")
         # disable noisy logging for asciimatics
         logging.getLogger("asciimatics").setLevel(logging.WARNING)
@@ -214,15 +216,15 @@
                             fg=self.LOG_COLORS.get(level, None),
                         ),
                         nl=False,
                     )
                     click.echo(time.strftime("%H:%M:%S") + " " + line)
         self._logs = []
 
-    def log(self, *messages: Any, log_level: int = logging.NOTSET):
+    def log(self, *messages: Any, log_level: int = logging.NOTSET + 1):
         """Log a message to the console, by default at DEBUG level."""
         line = " ".join([str(_) for _ in messages])
         time = datetime.now()
         if self.logger is not None:
             self.logger.log(log_level, "%.3f %s", time.timestamp(), line)
         self._logs.append((log_level, line, time))
```

## Comparing `spydertop-1.2.0.dist-info/LICENSE` & `spydertop-1.2.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `spydertop-1.2.0.dist-info/METADATA` & `spydertop-1.2.1.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: spydertop
-Version: 1.2.0
+Version: 1.2.1
 Summary: A tool that provides htop-like functionality for any point in time.
 Author-email: Griffith Thomas <dev@spyderbat.com>
 Maintainer-email: Spyderbat <dev@spyderbat.com>
 License: The MIT License (MIT)
         
         Copyright (c) 2022 Spyderbat
         
@@ -56,28 +56,31 @@
 
 # to run docker with the host's timezone settings
 docker run -it -v /etc/localtime:/etc/localtime spyderbat/spydertop [ARGS]
 ```
 
 ## Installation
 
-Download the appropriate wheel file from the [releases page](https://github.com/spyderbat/spydertop/releases) and install with:
+Spydertop can be installed from [PyPi](https://pypi.org/project/spydertop/) with pip:
 
 ```sh
-pip install [WHEEL FILE]
+pip install spydertop
 ```
 
-If you prefer to install from source, clone this repository and run this command inside:
+If you prefer a manual install, you can download and install the appropriate wheel file or bundled executable (`spydertop-bundled-XXX`) from the [releases page](https://github.com/spyderbat/spydertop/releases).
+
+To install from source, clone this repository and run this command inside:
 
 ```sh
 # note: requires setuptools >= 45
 pip install .
+# pip install . -e # for editable install
 ```
 
-On your first run of `spydertop`, it will guide you through setting up a configuration if you do not have one already. If you prefer to set it up yourself, your organization id can be found in the url for the dashboard, and many other pages:
+On your first run of `spydertop`, it will guide you through setting up a configuration if you do not have one already. If you prefer to set it up yourself, see [Configuration](#configuration). Your organization id can be found in the url for the dashboard, and many other pages:
 
 ```url
 https://api.spyderbat.com/app/org/{ORG_ID_HERE}/dashboard
 ```
 
 Similarly, the machine id can be located in the url of an investigation, or by enabling the id column in the sources list.
 
@@ -125,16 +128,16 @@
 
 For development, Spydertop can be installed with the `--editable` flag in `pip`. Spydertop works well inside of a Python virtual environment, so using one is recommended.
 
 ```sh
 # in the spydertop repository:
 
 # setup development environment
-python -m venv .env
-source .env/bin/activate
+python -m venv .venv
+source .venv/bin/activate
 
 # install spydertop for development
 pip install --editable .
 ```
 
 In the virtual environment, after editing and saving a file, the `spydertop` command will automatically be updated.
```

## Comparing `spydertop-1.2.0.dist-info/RECORD` & `spydertop-1.2.1.dist-info/RECORD`

 * *Files 19% similar despite different names*

```diff
@@ -1,33 +1,33 @@
-spydertop/__init__.py,sha256=bBgSJ56TMfcQBFOsqw_TVHivoTS-TL1LS3o4DIrj7V8,537
+spydertop/__init__.py,sha256=C6BcVXNaXHru7k0ADa3i_Y9anCdtQrkuo-VK6XN2gaA,698
 spydertop/cli.py,sha256=iWdMxezi3YhYipQSpHzmrPN4jfmq74ysUexHM8bEZjs,6718
-spydertop/config.py,sha256=n4zmJmk0rNlzwokRZVGrIrIrU3HOCmr0ZAD3K8SR-_k,10209
-spydertop/model.py,sha256=yjH7AzJiCSOIHt7ZnVCuN6D7rLSlvWGj_3jX3UFXxC0,25466
-spydertop/recordpool.py,sha256=lkkREq-sAB5-EkZaf5_3HYVjFCQBvWfNBbizp4WoHYo,13140
+spydertop/config.py,sha256=6yARI-9q18XvnhgAxas_-Rcpevka1X7B3Bi121YKTwU,10227
+spydertop/model.py,sha256=QalCRgZZqcbZLlwlyrlQuf6MDZu5gwcbz0Ovsz1jIUM,25466
+spydertop/recordpool.py,sha256=ShhdNI8FpsJGzxHSBoiZuDFa2GZNCDs2MTze9jczIlo,13234
 spydertop/constants/__init__.py,sha256=ZYWrXqAcuJ_ZYotK0bUyKzTUORNPfxSBkwX1Y3zKfi8,823
 spydertop/constants/columns.py,sha256=SfMEB_y-vpCyc3PmMYvTCZs_nOe-sOGzySWYHNqXILc,19877
 spydertop/constants/palettes.py,sha256=q0rni42hgp_IdcWx-MNnJxBO40AzRk_QvrlmTuJ7h0c,3902
 spydertop/screens/__init__.py,sha256=7gMUft0RbG0yIt-SuaLYg8HLOvKnDNhNNzUtjV4wUWw,2742
-spydertop/screens/config.py,sha256=1bPoPgB1-Vm1q_QETLLsnow2VXv3a4DmH3GtVBriwgc,35592
+spydertop/screens/config.py,sha256=vqCJZHgeKFRuBux-KqcOAcVIdIB1CKdAe4yfZZ3NJiU,35201
 spydertop/screens/failure.py,sha256=Z1s69pbacGrO2UxFx5koIvShXToGSc_nBufI30bcAlc,3315
 spydertop/screens/feedback.py,sha256=nIOYrs0ZDBeBLqCpH5CdAIOfYqWcuZxjNLgCXGIPqbQ,4121
 spydertop/screens/footer.py,sha256=xnJiXzSmeu3MSArzIRxCiYkG-JZBY-g9aqToN94aDv4,2056
 spydertop/screens/help.py,sha256=bcjvDLekS7-RR5OcGbGIT28G4kMmHlNL_Oa7e4Sl5-I,7578
 spydertop/screens/loading.py,sha256=w8cAdbEDWYbDHmaKhAG5AYehDXnAxuJjEhrO9VhyYeo,7753
-spydertop/screens/main.py,sha256=QBxoaijDZg-GUwNFOcDG3jOahlv2HfBnnYpwW4dSLsk,34811
+spydertop/screens/main.py,sha256=4ZRoxLudbqGm5EXdvLa9qKOEZ9Q9p8t137Ssfj5Xf10,34957
 spydertop/screens/meters.py,sha256=XjL4HTFdyTlBezqoe43w_BWilmZJKqrbj7LJqtXAO8Q,11199
 spydertop/screens/modals.py,sha256=fdw79OLAQDrj2dWj_cIsFYLQwUANIVJtKhOncdS-aRM,5855
-spydertop/screens/quit.py,sha256=gjYW23STyX7NJ-sSH5hXNeDabiO0YCa3vC2O6eOF7Q4,4512
+spydertop/screens/quit.py,sha256=6qG6Qcbd8ALkz2raxs1Q9MU-xGukySlyxL3lT8BZL5Q,4472
 spydertop/screens/setup.py,sha256=l8E24r5yzXjWomSNr3x8sf09R95wzJqgEO6bMjl3Lfo,12680
-spydertop/utils/__init__.py,sha256=PZoyc497_KD1mcre7YEBoZXe4HsZCnMsK6LcExrlkTE,7688
+spydertop/utils/__init__.py,sha256=n1NJQNw0W2ZsOFOU3LlbFDBnSDWuOaTpw9qpjzKoDi8,7740
 spydertop/utils/cache.py,sha256=rlrVV8vf0j0sjRebQPHTFirVY4DNSr9fmeBrcbIsW3E,2242
 spydertop/utils/cursorlist.py,sha256=TvHZ09XxlRxn8a2MQoIFtbsNyGn2h72-4sQnuo2Bl9M,4462
-spydertop/utils/types.py,sha256=PnxO_VZmRJ8YDftb5jwhvBoANG5J0iUUgcxayzUzOng,16858
+spydertop/utils/types.py,sha256=v7WQsS9IRSQg5hOOjxsx0f1jSfyaFAICGtLdYQrYYfc,16961
 spydertop/widgets/__init__.py,sha256=MvQmVlCiIZ-XjXr0cbraxhHTnYOUFZr1tPstaSVMvZY,4754
 spydertop/widgets/meter.py,sha256=2wHE3fbnrOdM3ikdo7R0PNl_vgSUutRCIlXBuVe96Uc,6246
 spydertop/widgets/table.py,sha256=F1xy4bRSx0eEeKRWBCedIsOWWWK8QVDiuVWgnsSQmXY,19510
-spydertop-1.2.0.dist-info/LICENSE,sha256=xmP7T9G2YrKaTOdjtd2HaImbTgbI-9GEONF282CMhVs,1083
-spydertop-1.2.0.dist-info/METADATA,sha256=b2_WohhreP1YRiQIKH5EO0lIY368tg1f8-rehSHaksQ,6485
-spydertop-1.2.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
-spydertop-1.2.0.dist-info/entry_points.txt,sha256=Yh0fjEsILGmJuSZNMyv5vTT5exChKirpkanM_HRtFpg,44
-spydertop-1.2.0.dist-info/top_level.txt,sha256=bCfL1jl5w76jalLAi5O-Qfzt6NEwTcyz7hb4uYWRPIU,10
-spydertop-1.2.0.dist-info/RECORD,,
+spydertop-1.2.1.dist-info/LICENSE,sha256=xmP7T9G2YrKaTOdjtd2HaImbTgbI-9GEONF282CMhVs,1083
+spydertop-1.2.1.dist-info/METADATA,sha256=6M9UyDM7V6VoK3RKgyAGlx8eLSKDX0jg7IrEKwmYLV4,6719
+spydertop-1.2.1.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+spydertop-1.2.1.dist-info/entry_points.txt,sha256=Yh0fjEsILGmJuSZNMyv5vTT5exChKirpkanM_HRtFpg,44
+spydertop-1.2.1.dist-info/top_level.txt,sha256=bCfL1jl5w76jalLAi5O-Qfzt6NEwTcyz7hb4uYWRPIU,10
+spydertop-1.2.1.dist-info/RECORD,,
```

