# Comparing `tmp/wacz_signing-0.2.8.tar.gz` & `tmp/wacz_signing-0.2.9.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "wacz_signing-0.2.8.tar", max compression
+gzip compressed data, was "wacz_signing-0.2.9.tar", max compression
```

## Comparing `wacz_signing-0.2.8.tar` & `wacz_signing-0.2.9.tar`

### file list

```diff
@@ -1,7 +1,7 @@
--rw-r--r--   0        0        0     3763 2023-03-07 18:48:43.667036 wacz_signing-0.2.8/README.md
--rw-r--r--   0        0        0      538 2023-03-07 19:04:18.921826 wacz_signing-0.2.8/pyproject.toml
--rw-r--r--   0        0        0        0 2022-10-01 14:24:50.997566 wacz_signing-0.2.8/wacz_signing/__init__.py
--rw-r--r--   0        0        0       22 2023-03-07 19:03:44.025839 wacz_signing-0.2.8/wacz_signing/_version.py
--rw-r--r--   0        0        0     5688 2022-10-05 19:40:58.732093 wacz_signing-0.2.8/wacz_signing/material.py
--rw-r--r--   0        0        0    10627 2023-03-06 19:58:11.755006 wacz_signing-0.2.8/wacz_signing/signer.py
--rw-r--r--   0        0        0     4539 1970-01-01 00:00:00.000000 wacz_signing-0.2.8/PKG-INFO
+-rw-r--r--   0        0        0     3921 2023-03-15 19:24:50.140830 wacz_signing-0.2.9/README.md
+-rw-r--r--   0        0        0      538 2023-06-05 13:25:47.124064 wacz_signing-0.2.9/pyproject.toml
+-rw-r--r--   0        0        0        0 2022-10-01 14:24:50.997566 wacz_signing-0.2.9/wacz_signing/__init__.py
+-rw-r--r--   0        0        0       22 2023-03-07 19:03:44.025839 wacz_signing-0.2.9/wacz_signing/_version.py
+-rw-r--r--   0        0        0     5688 2022-10-05 19:40:58.732093 wacz_signing-0.2.9/wacz_signing/material.py
+-rw-r--r--   0        0        0    10627 2023-03-06 19:58:11.755006 wacz_signing-0.2.9/wacz_signing/signer.py
+-rw-r--r--   0        0        0     4697 1970-01-01 00:00:00.000000 wacz_signing-0.2.9/PKG-INFO
```

### Comparing `wacz_signing-0.2.8/README.md` & `wacz_signing-0.2.9/README.md`

 * *Files 4% similar despite different names*

```diff
@@ -42,195 +42,205 @@
 00000290: 616c 2e20 4974 2061 6c73 6f20 6f6d 6974  al. It also omit
 000002a0: 7320 7468 6520 6f70 7469 6f6e 616c 2063  s the optional c
 000002b0: 726f 7373 2d73 6967 6e69 6e67 206d 6563  ross-signing mec
 000002c0: 6861 6e69 736d 2073 7065 6369 6669 6564  hanism specified
 000002d0: 0a69 6e20 7468 6520 7265 636f 6d6d 656e  .in the recommen
 000002e0: 6461 7469 6f6e 2061 6e64 2070 726f 7669  dation and provi
 000002f0: 6465 6420 6279 2061 7574 6873 6967 6e2e  ded by authsign.
-00000300: 0a0a 496e 7374 616c 6c61 7469 6f6e 0a2d  ..Installation.-
-00000310: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a46 6f72  -----------..For
-00000320: 2072 6567 756c 6172 2075 7365 2c20 7374   regular use, st
-00000330: 6172 7420 6120 7669 7274 7561 6c20 656e  art a virtual en
-00000340: 7669 726f 6e6d 656e 7420 616e 6420 696e  vironment and in
-00000350: 7374 616c 6c20 7468 6973 2070 6163 6b61  stall this packa
-00000360: 6765 0a61 6e64 2069 7473 2072 6571 7569  ge.and its requi
-00000370: 7265 6d65 6e74 732c 2073 6f6d 6574 6869  rements, somethi
-00000380: 6e67 206c 696b 6520 7468 6973 3a0a 0a60  ng like this:..`
-00000390: 6060 0a70 7974 686f 6e33 202d 6d20 7665  ``.python3 -m ve
-000003a0: 6e76 2065 6e76 0a2e 2065 6e76 2f62 696e  nv env.. env/bin
-000003b0: 2f61 6374 6976 6174 650a 7069 7020 696e  /activate.pip in
-000003c0: 7374 616c 6c20 7761 637a 2d73 6967 6e69  stall wacz-signi
-000003d0: 6e67 0a60 6060 0a0a 5573 650a 2d2d 2d0a  ng.```..Use.---.
-000003e0: 0a54 6865 2073 696d 706c 6573 7420 7761  .The simplest wa
-000003f0: 7920 746f 2075 7365 2074 6869 7320 7379  y to use this sy
-00000400: 7374 656d 2069 7320 746f 2070 726f 7669  stem is to provi
-00000410: 6465 2074 6865 2065 6e76 6972 6f6e 6d65  de the environme
-00000420: 6e74 0a76 6172 6961 626c 6573 2060 444f  nt.variables `DO
-00000430: 4d41 494e 6020 616e 6420 6043 4552 544e  MAIN` and `CERTN
-00000440: 414d 4560 2c20 706f 7373 6962 6c79 2069  AME`, possibly i
-00000450: 6e20 6120 602e 656e 7660 2066 696c 653b  n a `.env` file;
-00000460: 2074 6865 0a70 6163 6b61 6765 2077 696c   the.package wil
-00000470: 6c20 7468 656e 2075 7365 2074 6865 206b  l then use the k
-00000480: 6579 206d 6174 6572 6961 6c20 696e 0a60  ey material in.`
-00000490: 2f65 7463 2f6c 6574 7365 6e63 7279 7074  /etc/letsencrypt
-000004a0: 2f6c 6976 652f 3c43 4552 544e 414d 453e  /live/<CERTNAME>
-000004b0: 2f60 2e20 2854 6865 2070 726f 7669 7369  /`. (The provisi
-000004c0: 6f6e 206f 6620 6044 4f4d 4149 4e60 2069  on of `DOMAIN` i
-000004d0: 7320 746f 0a61 6363 6f6d 6d6f 6461 7465  s to.accommodate
-000004e0: 2074 6865 2070 6f73 7369 6269 6c69 7479   the possibility
-000004f0: 2074 6861 7420 7468 6520 646f 6d61 696e   that the domain
-00000500: 206e 616d 6520 7765 2063 6172 6520 6162   name we care ab
-00000510: 6f75 7420 6973 206e 6f74 0a74 6865 206f  out is not.the o
-00000520: 6e65 2074 6861 7420 7761 7320 6f72 6967  ne that was orig
-00000530: 696e 616c 6c79 2075 7365 6420 746f 2063  inally used to c
-00000540: 7265 6174 6520 7468 6520 6365 7274 2e29  reate the cert.)
-00000550: 2054 6865 6e2c 2079 6f75 2063 616e 0a0a   Then, you can..
-00000560: 6060 600a 3e3e 3e20 6672 6f6d 2077 6163  ```.>>> from wac
-00000570: 7a5f 7369 676e 696e 6720 696d 706f 7274  z_signing import
-00000580: 2073 6967 6e65 720a 3e3e 3e20 6672 6f6d   signer.>>> from
-00000590: 2064 6174 6574 696d 6520 696d 706f 7274   datetime import
-000005a0: 2064 6174 6574 696d 650a 3e3e 3e20 7265   datetime.>>> re
-000005b0: 7375 6c74 203d 2073 6967 6e65 722e 7369  sult = signer.si
-000005c0: 676e 2827 6865 6c6c 6f20 776f 726c 6421  gn('hello world!
-000005d0: 272c 2064 6174 6574 696d 652e 7574 636e  ', datetime.utcn
-000005e0: 6f77 2829 290a 3e3e 3e20 7369 676e 6572  ow()).>>> signer
-000005f0: 2e76 6572 6966 7928 7265 7375 6c74 290a  .verify(result).
-00000600: 7b27 6f62 7365 7276 6572 273a 205b 276d  {'observer': ['m
-00000610: 6b63 6572 7427 5d2c 2027 736f 6674 7761  kcert'], 'softwa
-00000620: 7265 273a 2027 7761 637a 2d73 6967 6e69  re': 'wacz-signi
-00000630: 6e67 2030 2e32 2e36 272c 2027 7469 6d65  ng 0.2.6', 'time
-00000640: 7374 616d 7027 3a20 2732 3032 322d 3130  stamp': '2022-10
-00000650: 2d30 3554 3230 3a34 303a 3538 5a27 7d0a  -05T20:40:58Z'}.
-00000660: 6060 600a 0a6f 720a 0a60 6060 0a3e 3e3e  ```..or..```.>>>
-00000670: 2073 6967 6e65 722e 7665 7269 6679 5f77   signer.verify_w
-00000680: 6163 7a28 2774 6573 745f 6669 6c65 732f  acz('test_files/
-00000690: 7661 6c69 645f 7369 676e 6564 5f65 7861  valid_signed_exa
-000006a0: 6d70 6c65 5f31 2e77 6163 7a27 290a 7b27  mple_1.wacz').{'
-000006b0: 6f62 7365 7276 6572 273a 205b 2762 7472  observer': ['btr
-000006c0: 6978 2d73 6967 6e2d 7465 7374 2e77 6562  ix-sign-test.web
-000006d0: 7265 636f 7264 6572 2e6e 6574 275d 2c20  recorder.net'], 
-000006e0: 2773 6f66 7477 6172 6527 3a20 2761 7574  'software': 'aut
-000006f0: 6873 6967 6e65 7220 302e 332e 3027 2c20  hsigner 0.3.0', 
-00000700: 2774 696d 6573 7461 6d70 273a 2027 3230  'timestamp': '20
-00000710: 3232 2d30 312d 3138 5431 393a 3030 3a31  22-01-18T19:00:1
-00000720: 325a 277d 0a60 6060 0a0a 0a59 6f75 2063  2Z'}.```...You c
-00000730: 616e 2061 6c73 6f20 7072 6f76 6964 6520  an also provide 
-00000740: 6365 7274 2c20 6b65 792c 2061 6e64 2074  cert, key, and t
-00000750: 696d 6573 7461 6d70 6572 206d 6174 6572  imestamper mater
-00000760: 6961 6c20 6469 7265 6374 6c79 2c20 6f72  ial directly, or
-00000770: 0a69 6e20 616c 7465 726e 6174 6520 6669  .in alternate fi
-00000780: 6c65 732c 2075 7369 6e67 2065 6e76 6972  les, using envir
-00000790: 6f6e 6d65 6e74 2076 6172 6961 626c 6573  onment variables
-000007a0: 3a20 796f 7520 4d55 5354 2070 726f 7669  : you MUST provi
-000007b0: 6465 0a60 444f 4d41 494e 603b 2079 6f75  de.`DOMAIN`; you
-000007c0: 204d 5553 5420 7072 6f76 6964 6520 6569   MUST provide ei
-000007d0: 7468 6572 2060 4345 5254 4e41 4d45 6020  ther `CERTNAME` 
-000007e0: 6f72 206f 6e65 206f 6620 6043 4552 5460  or one of `CERT`
-000007f0: 2061 6e64 0a60 4345 5254 4649 4c45 603b   and.`CERTFILE`;
-00000800: 2069 6620 796f 7520 6861 7665 2073 6574   if you have set
-00000810: 2060 4345 5254 4e41 4d45 602c 2079 6f75   `CERTNAME`, you
-00000820: 204d 5553 5420 7072 6f76 6964 6520 6f6e   MUST provide on
-00000830: 6520 6f66 2060 4b45 5960 0a61 6e64 2060  e of `KEY`.and `
-00000840: 4b45 5946 494c 4560 2e20 4966 2079 6f75  KEYFILE`. If you
-00000850: 2772 6520 6e6f 7420 7573 696e 6720 4c65  're not using Le
-00000860: 7473 656e 6372 7970 7420 6365 7274 732c  tsencrypt certs,
-00000870: 2079 6f75 276c 6c20 6e65 6564 2074 6f0a   you'll need to.
-00000880: 7365 7420 6043 4552 545f 524f 4f54 5360  set `CERT_ROOTS`
-00000890: 2e20 596f 7520 6d61 7920 616c 736f 2063  . You may also c
-000008a0: 6f6e 6669 6775 7265 2074 6865 2074 696d  onfigure the tim
-000008b0: 6573 7461 6d70 6572 2077 6974 6820 6054  estamper with `T
-000008c0: 535f 4345 5254 600a 6f72 2060 5453 5f43  S_CERT`.or `TS_C
-000008d0: 4552 5446 494c 4560 2061 6e64 2060 5453  ERTFILE` and `TS
-000008e0: 5f55 524c 6020 616e 6420 6054 535f 524f  _URL` and `TS_RO
-000008f0: 4f54 5360 2e20 596f 7520 6d61 7920 6164  OTS`. You may ad
-00000900: 6469 7469 6f6e 616c 6c79 0a63 6861 6e67  ditionally.chang
-00000910: 6520 7468 6520 6043 4552 545f 4455 5241  e the `CERT_DURA
-00000920: 5449 4f4e 6020 6672 6f6d 2069 7473 2064  TION` from its d
-00000930: 6566 6175 6c74 206f 6620 3720 6461 7973  efault of 7 days
-00000940: 2c20 616e 6420 7468 650a 6053 5441 4d50  , and the.`STAMP
-00000950: 5f44 5552 4154 494f 4e60 2066 726f 6d20  _DURATION` from 
-00000960: 6974 7320 6465 6661 756c 7420 6f66 2031  its default of 1
-00000970: 3020 6d69 6e75 7465 732e 0a0a 596f 7520  0 minutes...You 
-00000980: 6d61 7920 7761 6e74 2074 6f20 6361 7463  may want to catc
-00000990: 6820 6073 6967 6e65 722e 5369 676e 696e  h `signer.Signin
-000009a0: 6745 7863 6570 7469 6f6e 6020 616e 640a  gException` and.
-000009b0: 6073 6967 6e65 722e 5665 7269 6669 6361  `signer.Verifica
-000009c0: 7469 6f6e 4578 6365 7074 696f 6e60 2e0a  tionException`..
-000009d0: 0a46 6f72 206c 6f63 616c 2064 6576 656c  .For local devel
-000009e0: 6f70 6d65 6e74 2061 6e64 2074 6573 7469  opment and testi
-000009f0: 6e67 2c20 796f 7527 6c6c 206e 6565 6420  ng, you'll need 
-00000a00: 746f 2069 6e73 7461 6c6c 0a5b 6d6b 6365  to install.[mkce
-00000a10: 7274 5d28 6874 7470 733a 2f2f 6769 7468  rt](https://gith
-00000a20: 7562 2e63 6f6d 2f46 696c 6f53 6f74 7469  ub.com/FiloSotti
-00000a30: 6c65 2f6d 6b63 6572 7429 2e20 546f 2067  le/mkcert). To g
-00000a40: 656e 6572 6174 6520 6365 7274 7320 616e  enerate certs an
-00000a50: 640a 7365 7420 7570 2074 6865 2065 6e76  d.set up the env
-00000a60: 6972 6f6e 6d65 6e74 2c20 7275 6e0a 0a60  ironment, run..`
-00000a70: 6060 0a62 6173 6820 2e2f 7365 742d 7570  ``.bash ./set-up
-00000a80: 2d64 6f74 2d65 6e76 2e73 680a 6060 600a  -dot-env.sh.```.
-00000a90: 0a43 6572 7469 6669 6361 7465 206d 616e  .Certificate man
-00000aa0: 6167 656d 656e 740a 2d2d 2d2d 2d2d 2d2d  agement.--------
-00000ab0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
-00000ac0: 4966 2079 6f75 2772 6520 7573 696e 6720  If you're using 
-00000ad0: 4c65 7473 656e 6372 7970 7420 6365 7274  Letsencrypt cert
-00000ae0: 732c 2061 6e64 2079 6f75 2077 616e 7420  s, and you want 
-00000af0: 7468 656d 2074 6f20 6265 2076 616c 6964  them to be valid
-00000b00: 2066 6f72 2061 0a73 686f 7274 2064 7572   for a.short dur
-00000b10: 6174 696f 6e2c 2073 6179 2074 6865 2064  ation, say the d
-00000b20: 6566 6175 6c74 206f 6620 7365 7665 6e20  efault of seven 
-00000b30: 6461 7973 2c20 796f 7520 776f 756c 6420  days, you would 
-00000b40: 6e65 6564 2074 6f20 666f 7263 650a 6120  need to force.a 
-00000b50: 7265 6e65 7761 6c20 6166 7465 7220 6120  renewal after a 
-00000b60: 7765 656b 2c20 7468 656e 206d 616e 7561  week, then manua
-00000b70: 6c6c 7920 7265 766f 6b65 2074 6865 2070  lly revoke the p
-00000b80: 7265 7669 6f75 7320 7765 656b 2773 2063  revious week's c
-00000b90: 6572 742c 0a73 6f6d 6574 6869 6e67 206c  ert,.something l
-00000ba0: 696b 650a 0a60 6060 0a63 6572 7462 6f74  ike..```.certbot
-00000bb0: 2072 656e 6577 202d 2d66 6f72 6365 2d72   renew --force-r
-00000bc0: 656e 6577 616c 202d 2d64 6570 6c6f 792d  enewal --deploy-
-00000bd0: 686f 6f6b 202f 7061 7468 2f74 6f2f 6465  hook /path/to/de
-00000be0: 706c 6f79 2d68 6f6f 6b2d 7363 7269 7074  ploy-hook-script
-00000bf0: 0a60 6060 0a0a 286f 7220 6a75 7374 2070  .```..(or just p
-00000c00: 7574 2074 6865 2073 6372 6970 7420 696e  ut the script in
-00000c10: 2060 2f65 7463 2f6c 6574 7365 6e63 7279   `/etc/letsencry
-00000c20: 7074 2f72 656e 6577 616c 2d68 6f6f 6b73  pt/renewal-hooks
-00000c30: 2f64 6570 6c6f 792f 600a 0a77 6865 7265  /deploy/`..where
-00000c40: 2074 6865 2073 6372 6970 7420 7275 6e73   the script runs
-00000c50: 2073 6f6d 6574 6869 6e67 206c 696b 650a   something like.
-00000c60: 0a60 6060 0a63 6572 7462 6f74 2072 6576  .```.certbot rev
-00000c70: 6f6b 6520 2d2d 6365 7274 2d70 6174 6820  oke --cert-path 
-00000c80: 606c 7320 2d74 202f 6574 632f 6c65 7473  `ls -t /etc/lets
-00000c90: 656e 6372 7970 742f 6172 6368 6976 652f  encrypt/archive/
-00000ca0: 247b 4345 5254 4e41 4d45 7d2f 6365 7274  ${CERTNAME}/cert
-00000cb0: 2a2e 7065 6d20 7c20 6865 6164 202d 6e20  *.pem | head -n 
-00000cc0: 3220 7c20 7461 696c 202d 6e20 3160 202d  2 | tail -n 1` -
-00000cd0: 2d72 6561 736f 6e20 6578 7069 7261 7469  -reason expirati
-00000ce0: 6f6e 0a60 6060 0a0a 2842 7574 2074 7269  on.```..(But tri
-00000cf0: 706c 652d 6368 6563 6b20 7468 6973 2062  ple-check this b
-00000d00: 6566 6f72 6520 6174 7465 6d70 7469 6e67  efore attempting
-00000d10: 2069 7420 696e 2065 6172 6e65 7374 3b20   it in earnest; 
-00000d20: 6120 636f 7272 6563 740a 6578 616d 706c  a correct.exampl
-00000d30: 6520 6d61 7920 666f 6c6c 6f77 2e29 0a0a  e may follow.)..
-00000d40: 5573 6520 6361 7365 730a 2d2d 2d2d 2d2d  Use cases.------
-00000d50: 2d2d 2d0a 0a54 6869 7320 7061 636b 6167  ---..This packag
-00000d60: 6520 636f 756c 6420 6265 2075 7365 6420  e could be used 
-00000d70: 696e 2061 2074 696e 7920 7765 6220 4150  in a tiny web AP
-00000d80: 492c 206f 6620 636f 7572 7365 3b20 7365  I, of course; se
-00000d90: 650a 5b65 7861 6d70 6c65 732f 7765 622d  e.[examples/web-
-00000da0: 6170 692f 5d28 6578 616d 706c 6573 2f77  api/](examples/w
-00000db0: 6562 2d61 7069 2f29 2e20 4974 2063 6f75  eb-api/). It cou
-00000dc0: 6c64 2061 6c73 6f20 6265 2069 6e74 6567  ld also be integ
-00000dd0: 7261 7465 640a 696e 746f 2061 2070 726f  rated.into a pro
-00000de0: 6475 6365 7220 6f66 2057 4143 5a20 6669  ducer of WACZ fi
-00000df0: 6c65 732c 206c 696b 6520 6120 6675 7475  les, like a futu
-00000e00: 7265 2076 6572 7369 6f6e 206f 6620 5065  re version of Pe
-00000e10: 726d 612c 2077 6869 6368 0a77 6f75 6c64  rma, which.would
-00000e20: 2073 6967 6e20 6172 6368 6976 6573 2069   sign archives i
-00000e30: 6e74 6572 6e61 6c6c 793b 2069 7420 636f  nternally; it co
-00000e40: 756c 6420 616c 736f 2062 6520 7275 6e20  uld also be run 
-00000e50: 696e 2061 206c 616d 6264 612c 0a77 6869  in a lambda,.whi
-00000e60: 6368 2069 7320 7768 7920 6974 2773 2070  ch is why it's p
-00000e70: 6f73 7369 626c 6520 746f 2070 726f 7669  ossible to provi
-00000e80: 6465 206b 6579 206d 6174 6572 6961 6c20  de key material 
-00000e90: 6469 7265 6374 6c79 2069 6e0a 656e 7669  directly in.envi
-00000ea0: 726f 6e6d 656e 7420 7661 7269 6162 6c65  ronment variable
-00000eb0: 732e 0a                                  s..
+00000300: 0a0a 3c61 2068 7265 663d 2268 7474 7073  ..<a href="https
+00000310: 3a2f 2f74 6f6f 6c73 2e70 6572 6d61 2e63  ://tools.perma.c
+00000320: 6322 3e3c 696d 6720 7372 633d 2268 7474  c"><img src="htt
+00000330: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00000340: 6861 7276 6172 642d 6c69 6c2f 746f 6f6c  harvard-lil/tool
+00000350: 732e 7065 726d 612e 6363 2f62 6c6f 622f  s.perma.cc/blob/
+00000360: 6d61 696e 2f70 6572 6d61 2d74 6f6f 6c73  main/perma-tools
+00000370: 2e70 6e67 3f72 6177 3d31 2220 616c 743d  .png?raw=1" alt=
+00000380: 2250 6572 6d61 2054 6f6f 6c73 2220 7769  "Perma Tools" wi
+00000390: 6474 683d 2231 3530 223e 3c2f 613e 0a0a  dth="150"></a>..
+000003a0: 496e 7374 616c 6c61 7469 6f6e 0a2d 2d2d  Installation.---
+000003b0: 2d2d 2d2d 2d2d 2d2d 2d0a 0a46 6f72 2072  ---------..For r
+000003c0: 6567 756c 6172 2075 7365 2c20 7374 6172  egular use, star
+000003d0: 7420 6120 7669 7274 7561 6c20 656e 7669  t a virtual envi
+000003e0: 726f 6e6d 656e 7420 616e 6420 696e 7374  ronment and inst
+000003f0: 616c 6c20 7468 6973 2070 6163 6b61 6765  all this package
+00000400: 0a61 6e64 2069 7473 2072 6571 7569 7265  .and its require
+00000410: 6d65 6e74 732c 2073 6f6d 6574 6869 6e67  ments, something
+00000420: 206c 696b 6520 7468 6973 3a0a 0a60 6060   like this:..```
+00000430: 0a70 7974 686f 6e33 202d 6d20 7665 6e76  .python3 -m venv
+00000440: 2065 6e76 0a2e 2065 6e76 2f62 696e 2f61   env.. env/bin/a
+00000450: 6374 6976 6174 650a 7069 7020 696e 7374  ctivate.pip inst
+00000460: 616c 6c20 7761 637a 2d73 6967 6e69 6e67  all wacz-signing
+00000470: 0a60 6060 0a0a 5573 650a 2d2d 2d0a 0a54  .```..Use.---..T
+00000480: 6865 2073 696d 706c 6573 7420 7761 7920  he simplest way 
+00000490: 746f 2075 7365 2074 6869 7320 7379 7374  to use this syst
+000004a0: 656d 2069 7320 746f 2070 726f 7669 6465  em is to provide
+000004b0: 2074 6865 2065 6e76 6972 6f6e 6d65 6e74   the environment
+000004c0: 0a76 6172 6961 626c 6573 2060 444f 4d41  .variables `DOMA
+000004d0: 494e 6020 616e 6420 6043 4552 544e 414d  IN` and `CERTNAM
+000004e0: 4560 2c20 706f 7373 6962 6c79 2069 6e20  E`, possibly in 
+000004f0: 6120 602e 656e 7660 2066 696c 653b 2074  a `.env` file; t
+00000500: 6865 0a70 6163 6b61 6765 2077 696c 6c20  he.package will 
+00000510: 7468 656e 2075 7365 2074 6865 206b 6579  then use the key
+00000520: 206d 6174 6572 6961 6c20 696e 0a60 2f65   material in.`/e
+00000530: 7463 2f6c 6574 7365 6e63 7279 7074 2f6c  tc/letsencrypt/l
+00000540: 6976 652f 3c43 4552 544e 414d 453e 2f60  ive/<CERTNAME>/`
+00000550: 2e20 2854 6865 2070 726f 7669 7369 6f6e  . (The provision
+00000560: 206f 6620 6044 4f4d 4149 4e60 2069 7320   of `DOMAIN` is 
+00000570: 746f 0a61 6363 6f6d 6d6f 6461 7465 2074  to.accommodate t
+00000580: 6865 2070 6f73 7369 6269 6c69 7479 2074  he possibility t
+00000590: 6861 7420 7468 6520 646f 6d61 696e 206e  hat the domain n
+000005a0: 616d 6520 7765 2063 6172 6520 6162 6f75  ame we care abou
+000005b0: 7420 6973 206e 6f74 0a74 6865 206f 6e65  t is not.the one
+000005c0: 2074 6861 7420 7761 7320 6f72 6967 696e   that was origin
+000005d0: 616c 6c79 2075 7365 6420 746f 2063 7265  ally used to cre
+000005e0: 6174 6520 7468 6520 6365 7274 2e29 2054  ate the cert.) T
+000005f0: 6865 6e2c 2079 6f75 2063 616e 0a0a 6060  hen, you can..``
+00000600: 600a 3e3e 3e20 6672 6f6d 2077 6163 7a5f  `.>>> from wacz_
+00000610: 7369 676e 696e 6720 696d 706f 7274 2073  signing import s
+00000620: 6967 6e65 720a 3e3e 3e20 6672 6f6d 2064  igner.>>> from d
+00000630: 6174 6574 696d 6520 696d 706f 7274 2064  atetime import d
+00000640: 6174 6574 696d 650a 3e3e 3e20 7265 7375  atetime.>>> resu
+00000650: 6c74 203d 2073 6967 6e65 722e 7369 676e  lt = signer.sign
+00000660: 2827 6865 6c6c 6f20 776f 726c 6421 272c  ('hello world!',
+00000670: 2064 6174 6574 696d 652e 7574 636e 6f77   datetime.utcnow
+00000680: 2829 290a 3e3e 3e20 7369 676e 6572 2e76  ()).>>> signer.v
+00000690: 6572 6966 7928 7265 7375 6c74 290a 7b27  erify(result).{'
+000006a0: 6f62 7365 7276 6572 273a 205b 276d 6b63  observer': ['mkc
+000006b0: 6572 7427 5d2c 2027 736f 6674 7761 7265  ert'], 'software
+000006c0: 273a 2027 7761 637a 2d73 6967 6e69 6e67  ': 'wacz-signing
+000006d0: 2030 2e32 2e36 272c 2027 7469 6d65 7374   0.2.6', 'timest
+000006e0: 616d 7027 3a20 2732 3032 322d 3130 2d30  amp': '2022-10-0
+000006f0: 3554 3230 3a34 303a 3538 5a27 7d0a 6060  5T20:40:58Z'}.``
+00000700: 600a 0a6f 720a 0a60 6060 0a3e 3e3e 2073  `..or..```.>>> s
+00000710: 6967 6e65 722e 7665 7269 6679 5f77 6163  igner.verify_wac
+00000720: 7a28 2774 6573 745f 6669 6c65 732f 7661  z('test_files/va
+00000730: 6c69 645f 7369 676e 6564 5f65 7861 6d70  lid_signed_examp
+00000740: 6c65 5f31 2e77 6163 7a27 290a 7b27 6f62  le_1.wacz').{'ob
+00000750: 7365 7276 6572 273a 205b 2762 7472 6978  server': ['btrix
+00000760: 2d73 6967 6e2d 7465 7374 2e77 6562 7265  -sign-test.webre
+00000770: 636f 7264 6572 2e6e 6574 275d 2c20 2773  corder.net'], 's
+00000780: 6f66 7477 6172 6527 3a20 2761 7574 6873  oftware': 'auths
+00000790: 6967 6e65 7220 302e 332e 3027 2c20 2774  igner 0.3.0', 't
+000007a0: 696d 6573 7461 6d70 273a 2027 3230 3232  imestamp': '2022
+000007b0: 2d30 312d 3138 5431 393a 3030 3a31 325a  -01-18T19:00:12Z
+000007c0: 277d 0a60 6060 0a0a 0a59 6f75 2063 616e  '}.```...You can
+000007d0: 2061 6c73 6f20 7072 6f76 6964 6520 6365   also provide ce
+000007e0: 7274 2c20 6b65 792c 2061 6e64 2074 696d  rt, key, and tim
+000007f0: 6573 7461 6d70 6572 206d 6174 6572 6961  estamper materia
+00000800: 6c20 6469 7265 6374 6c79 2c20 6f72 0a69  l directly, or.i
+00000810: 6e20 616c 7465 726e 6174 6520 6669 6c65  n alternate file
+00000820: 732c 2075 7369 6e67 2065 6e76 6972 6f6e  s, using environ
+00000830: 6d65 6e74 2076 6172 6961 626c 6573 3a20  ment variables: 
+00000840: 796f 7520 4d55 5354 2070 726f 7669 6465  you MUST provide
+00000850: 0a60 444f 4d41 494e 603b 2079 6f75 204d  .`DOMAIN`; you M
+00000860: 5553 5420 7072 6f76 6964 6520 6569 7468  UST provide eith
+00000870: 6572 2060 4345 5254 4e41 4d45 6020 6f72  er `CERTNAME` or
+00000880: 206f 6e65 206f 6620 6043 4552 5460 2061   one of `CERT` a
+00000890: 6e64 0a60 4345 5254 4649 4c45 603b 2069  nd.`CERTFILE`; i
+000008a0: 6620 796f 7520 6861 7665 2073 6574 2060  f you have set `
+000008b0: 4345 5254 4e41 4d45 602c 2079 6f75 204d  CERTNAME`, you M
+000008c0: 5553 5420 7072 6f76 6964 6520 6f6e 6520  UST provide one 
+000008d0: 6f66 2060 4b45 5960 0a61 6e64 2060 4b45  of `KEY`.and `KE
+000008e0: 5946 494c 4560 2e20 4966 2079 6f75 2772  YFILE`. If you'r
+000008f0: 6520 6e6f 7420 7573 696e 6720 4c65 7473  e not using Lets
+00000900: 656e 6372 7970 7420 6365 7274 732c 2079  encrypt certs, y
+00000910: 6f75 276c 6c20 6e65 6564 2074 6f0a 7365  ou'll need to.se
+00000920: 7420 6043 4552 545f 524f 4f54 5360 2e20  t `CERT_ROOTS`. 
+00000930: 596f 7520 6d61 7920 616c 736f 2063 6f6e  You may also con
+00000940: 6669 6775 7265 2074 6865 2074 696d 6573  figure the times
+00000950: 7461 6d70 6572 2077 6974 6820 6054 535f  tamper with `TS_
+00000960: 4345 5254 600a 6f72 2060 5453 5f43 4552  CERT`.or `TS_CER
+00000970: 5446 494c 4560 2061 6e64 2060 5453 5f55  TFILE` and `TS_U
+00000980: 524c 6020 616e 6420 6054 535f 524f 4f54  RL` and `TS_ROOT
+00000990: 5360 2e20 596f 7520 6d61 7920 6164 6469  S`. You may addi
+000009a0: 7469 6f6e 616c 6c79 0a63 6861 6e67 6520  tionally.change 
+000009b0: 7468 6520 6043 4552 545f 4455 5241 5449  the `CERT_DURATI
+000009c0: 4f4e 6020 6672 6f6d 2069 7473 2064 6566  ON` from its def
+000009d0: 6175 6c74 206f 6620 3720 6461 7973 2c20  ault of 7 days, 
+000009e0: 616e 6420 7468 650a 6053 5441 4d50 5f44  and the.`STAMP_D
+000009f0: 5552 4154 494f 4e60 2066 726f 6d20 6974  URATION` from it
+00000a00: 7320 6465 6661 756c 7420 6f66 2031 3020  s default of 10 
+00000a10: 6d69 6e75 7465 732e 0a0a 596f 7520 6d61  minutes...You ma
+00000a20: 7920 7761 6e74 2074 6f20 6361 7463 6820  y want to catch 
+00000a30: 6073 6967 6e65 722e 5369 676e 696e 6745  `signer.SigningE
+00000a40: 7863 6570 7469 6f6e 6020 616e 640a 6073  xception` and.`s
+00000a50: 6967 6e65 722e 5665 7269 6669 6361 7469  igner.Verificati
+00000a60: 6f6e 4578 6365 7074 696f 6e60 2e0a 0a46  onException`...F
+00000a70: 6f72 206c 6f63 616c 2064 6576 656c 6f70  or local develop
+00000a80: 6d65 6e74 2061 6e64 2074 6573 7469 6e67  ment and testing
+00000a90: 2c20 796f 7527 6c6c 206e 6565 6420 746f  , you'll need to
+00000aa0: 2069 6e73 7461 6c6c 0a5b 6d6b 6365 7274   install.[mkcert
+00000ab0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00000ac0: 2e63 6f6d 2f46 696c 6f53 6f74 7469 6c65  .com/FiloSottile
+00000ad0: 2f6d 6b63 6572 7429 2e20 546f 2067 656e  /mkcert). To gen
+00000ae0: 6572 6174 6520 6365 7274 7320 616e 640a  erate certs and.
+00000af0: 7365 7420 7570 2074 6865 2065 6e76 6972  set up the envir
+00000b00: 6f6e 6d65 6e74 2c20 7275 6e0a 0a60 6060  onment, run..```
+00000b10: 0a62 6173 6820 2e2f 7365 742d 7570 2d64  .bash ./set-up-d
+00000b20: 6f74 2d65 6e76 2e73 680a 6060 600a 0a43  ot-env.sh.```..C
+00000b30: 6572 7469 6669 6361 7465 206d 616e 6167  ertificate manag
+00000b40: 656d 656e 740a 2d2d 2d2d 2d2d 2d2d 2d2d  ement.----------
+00000b50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 4966  ------------..If
+00000b60: 2079 6f75 2772 6520 7573 696e 6720 4c65   you're using Le
+00000b70: 7473 656e 6372 7970 7420 6365 7274 732c  tsencrypt certs,
+00000b80: 2061 6e64 2079 6f75 2077 616e 7420 7468   and you want th
+00000b90: 656d 2074 6f20 6265 2076 616c 6964 2066  em to be valid f
+00000ba0: 6f72 2061 0a73 686f 7274 2064 7572 6174  or a.short durat
+00000bb0: 696f 6e2c 2073 6179 2074 6865 2064 6566  ion, say the def
+00000bc0: 6175 6c74 206f 6620 7365 7665 6e20 6461  ault of seven da
+00000bd0: 7973 2c20 796f 7520 776f 756c 6420 6e65  ys, you would ne
+00000be0: 6564 2074 6f20 666f 7263 650a 6120 7265  ed to force.a re
+00000bf0: 6e65 7761 6c20 6166 7465 7220 6120 7765  newal after a we
+00000c00: 656b 2c20 7468 656e 206d 616e 7561 6c6c  ek, then manuall
+00000c10: 7920 7265 766f 6b65 2074 6865 2070 7265  y revoke the pre
+00000c20: 7669 6f75 7320 7765 656b 2773 2063 6572  vious week's cer
+00000c30: 742c 0a73 6f6d 6574 6869 6e67 206c 696b  t,.something lik
+00000c40: 650a 0a60 6060 0a63 6572 7462 6f74 2072  e..```.certbot r
+00000c50: 656e 6577 202d 2d66 6f72 6365 2d72 656e  enew --force-ren
+00000c60: 6577 616c 202d 2d64 6570 6c6f 792d 686f  ewal --deploy-ho
+00000c70: 6f6b 202f 7061 7468 2f74 6f2f 6465 706c  ok /path/to/depl
+00000c80: 6f79 2d68 6f6f 6b2d 7363 7269 7074 0a60  oy-hook-script.`
+00000c90: 6060 0a0a 286f 7220 6a75 7374 2070 7574  ``..(or just put
+00000ca0: 2074 6865 2073 6372 6970 7420 696e 2060   the script in `
+00000cb0: 2f65 7463 2f6c 6574 7365 6e63 7279 7074  /etc/letsencrypt
+00000cc0: 2f72 656e 6577 616c 2d68 6f6f 6b73 2f64  /renewal-hooks/d
+00000cd0: 6570 6c6f 792f 600a 0a77 6865 7265 2074  eploy/`..where t
+00000ce0: 6865 2073 6372 6970 7420 7275 6e73 2073  he script runs s
+00000cf0: 6f6d 6574 6869 6e67 206c 696b 650a 0a60  omething like..`
+00000d00: 6060 0a63 6572 7462 6f74 2072 6576 6f6b  ``.certbot revok
+00000d10: 6520 2d2d 6365 7274 2d70 6174 6820 606c  e --cert-path `l
+00000d20: 7320 2d74 202f 6574 632f 6c65 7473 656e  s -t /etc/letsen
+00000d30: 6372 7970 742f 6172 6368 6976 652f 247b  crypt/archive/${
+00000d40: 4345 5254 4e41 4d45 7d2f 6365 7274 2a2e  CERTNAME}/cert*.
+00000d50: 7065 6d20 7c20 6865 6164 202d 6e20 3220  pem | head -n 2 
+00000d60: 7c20 7461 696c 202d 6e20 3160 202d 2d72  | tail -n 1` --r
+00000d70: 6561 736f 6e20 6578 7069 7261 7469 6f6e  eason expiration
+00000d80: 0a60 6060 0a0a 2842 7574 2074 7269 706c  .```..(But tripl
+00000d90: 652d 6368 6563 6b20 7468 6973 2062 6566  e-check this bef
+00000da0: 6f72 6520 6174 7465 6d70 7469 6e67 2069  ore attempting i
+00000db0: 7420 696e 2065 6172 6e65 7374 3b20 6120  t in earnest; a 
+00000dc0: 636f 7272 6563 740a 6578 616d 706c 6520  correct.example 
+00000dd0: 6d61 7920 666f 6c6c 6f77 2e29 0a0a 5573  may follow.)..Us
+00000de0: 6520 6361 7365 730a 2d2d 2d2d 2d2d 2d2d  e cases.--------
+00000df0: 2d0a 0a54 6869 7320 7061 636b 6167 6520  -..This package 
+00000e00: 636f 756c 6420 6265 2075 7365 6420 696e  could be used in
+00000e10: 2061 2074 696e 7920 7765 6220 4150 492c   a tiny web API,
+00000e20: 206f 6620 636f 7572 7365 3b20 7365 650a   of course; see.
+00000e30: 5b65 7861 6d70 6c65 732f 7765 622d 6170  [examples/web-ap
+00000e40: 692f 5d28 6578 616d 706c 6573 2f77 6562  i/](examples/web
+00000e50: 2d61 7069 2f29 2e20 4974 2063 6f75 6c64  -api/). It could
+00000e60: 2061 6c73 6f20 6265 2069 6e74 6567 7261   also be integra
+00000e70: 7465 640a 696e 746f 2061 2070 726f 6475  ted.into a produ
+00000e80: 6365 7220 6f66 2057 4143 5a20 6669 6c65  cer of WACZ file
+00000e90: 732c 206c 696b 6520 6120 6675 7475 7265  s, like a future
+00000ea0: 2076 6572 7369 6f6e 206f 6620 5065 726d   version of Perm
+00000eb0: 612c 2077 6869 6368 0a77 6f75 6c64 2073  a, which.would s
+00000ec0: 6967 6e20 6172 6368 6976 6573 2069 6e74  ign archives int
+00000ed0: 6572 6e61 6c6c 793b 2069 7420 636f 756c  ernally; it coul
+00000ee0: 6420 616c 736f 2062 6520 7275 6e20 696e  d also be run in
+00000ef0: 2061 206c 616d 6264 612c 0a77 6869 6368   a lambda,.which
+00000f00: 2069 7320 7768 7920 6974 2773 2070 6f73   is why it's pos
+00000f10: 7369 626c 6520 746f 2070 726f 7669 6465  sible to provide
+00000f20: 206b 6579 206d 6174 6572 6961 6c20 6469   key material di
+00000f30: 7265 6374 6c79 2069 6e0a 656e 7669 726f  rectly in.enviro
+00000f40: 6e6d 656e 7420 7661 7269 6162 6c65 732e  nment variables.
+00000f50: 0a                                       .
```

### Comparing `wacz_signing-0.2.8/pyproject.toml` & `wacz_signing-0.2.9/pyproject.toml`

 * *Files 3% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 [tool.poetry]
 name = "wacz_signing"
-version = "0.2.8"
+version = "0.2.9"
 description = "A library for signing and timestamping file hashes"
 authors = ["Ben Steinberg <bsteinberg@law.harvard.edu>"]
 readme = "README.md"
 license = "GPL-3.0-or-later"
 
 [tool.poetry.dependencies]
 python = "^3.9"
-cryptography = "^39.0.2"
+cryptography = "^41.0.0"
 pem = "^21.2.0"
 rfc3161ng = "^2.1.3"
 pyasn1 = "^0.4.8"
 python-dotenv = "^0.21.0"
 
 
 [tool.poetry.group.dev.dependencies]
```

### Comparing `wacz_signing-0.2.8/wacz_signing/material.py` & `wacz_signing-0.2.9/wacz_signing/material.py`

 * *Files identical despite different names*

### Comparing `wacz_signing-0.2.8/wacz_signing/signer.py` & `wacz_signing-0.2.9/wacz_signing/signer.py`

 * *Files identical despite different names*

### Comparing `wacz_signing-0.2.8/PKG-INFO` & `wacz_signing-0.2.9/PKG-INFO`

 * *Files 6% similar despite different names*

```diff
@@ -1,11 +1,11 @@
 00000000: 4d65 7461 6461 7461 2d56 6572 7369 6f6e  Metadata-Version
 00000010: 3a20 322e 310a 4e61 6d65 3a20 7761 637a  : 2.1.Name: wacz
 00000020: 2d73 6967 6e69 6e67 0a56 6572 7369 6f6e  -signing.Version
-00000030: 3a20 302e 322e 380a 5375 6d6d 6172 793a  : 0.2.8.Summary:
+00000030: 3a20 302e 322e 390a 5375 6d6d 6172 793a  : 0.2.9.Summary:
 00000040: 2041 206c 6962 7261 7279 2066 6f72 2073   A library for s
 00000050: 6967 6e69 6e67 2061 6e64 2074 696d 6573  igning and times
 00000060: 7461 6d70 696e 6720 6669 6c65 2068 6173  tamping file has
 00000070: 6865 730a 4c69 6365 6e73 653a 2047 504c  hes.License: GPL
 00000080: 2d33 2e30 2d6f 722d 6c61 7465 720a 4175  -3.0-or-later.Au
 00000090: 7468 6f72 3a20 4265 6e20 5374 6569 6e62  thor: Ben Steinb
 000000a0: 6572 670a 4175 7468 6f72 2d65 6d61 696c  erg.Author-email
@@ -28,16 +28,16 @@
 000001b0: 6f67 7261 6d6d 696e 6720 4c61 6e67 7561  ogramming Langua
 000001c0: 6765 203a 3a20 5079 7468 6f6e 203a 3a20  ge :: Python :: 
 000001d0: 332e 3130 0a43 6c61 7373 6966 6965 723a  3.10.Classifier:
 000001e0: 2050 726f 6772 616d 6d69 6e67 204c 616e   Programming Lan
 000001f0: 6775 6167 6520 3a3a 2050 7974 686f 6e20  guage :: Python 
 00000200: 3a3a 2033 2e31 310a 5265 7175 6972 6573  :: 3.11.Requires
 00000210: 2d44 6973 743a 2063 7279 7074 6f67 7261  -Dist: cryptogra
-00000220: 7068 7920 283e 3d33 392e 302e 322c 3c34  phy (>=39.0.2,<4
-00000230: 302e 302e 3029 0a52 6571 7569 7265 732d  0.0.0).Requires-
+00000220: 7068 7920 283e 3d34 312e 302e 302c 3c34  phy (>=41.0.0,<4
+00000230: 322e 302e 3029 0a52 6571 7569 7265 732d  2.0.0).Requires-
 00000240: 4469 7374 3a20 7065 6d20 283e 3d32 312e  Dist: pem (>=21.
 00000250: 322e 302c 3c32 322e 302e 3029 0a52 6571  2.0,<22.0.0).Req
 00000260: 7569 7265 732d 4469 7374 3a20 7079 6173  uires-Dist: pyas
 00000270: 6e31 2028 3e3d 302e 342e 382c 3c30 2e35  n1 (>=0.4.8,<0.5
 00000280: 2e30 290a 5265 7175 6972 6573 2d44 6973  .0).Requires-Dis
 00000290: 743a 2070 7974 686f 6e2d 646f 7465 6e76  t: python-dotenv
 000002a0: 2028 3e3d 302e 3231 2e30 2c3c 302e 3232   (>=0.21.0,<0.22
@@ -90,195 +90,205 @@
 00000590: 0a6d 6174 6572 6961 6c2e 2049 7420 616c  .material. It al
 000005a0: 736f 206f 6d69 7473 2074 6865 206f 7074  so omits the opt
 000005b0: 696f 6e61 6c20 6372 6f73 732d 7369 676e  ional cross-sign
 000005c0: 696e 6720 6d65 6368 616e 6973 6d20 7370  ing mechanism sp
 000005d0: 6563 6966 6965 640a 696e 2074 6865 2072  ecified.in the r
 000005e0: 6563 6f6d 6d65 6e64 6174 696f 6e20 616e  ecommendation an
 000005f0: 6420 7072 6f76 6964 6564 2062 7920 6175  d provided by au
-00000600: 7468 7369 676e 2e0a 0a49 6e73 7461 6c6c  thsign...Install
-00000610: 6174 696f 6e0a 2d2d 2d2d 2d2d 2d2d 2d2d  ation.----------
-00000620: 2d2d 0a0a 466f 7220 7265 6775 6c61 7220  --..For regular 
-00000630: 7573 652c 2073 7461 7274 2061 2076 6972  use, start a vir
-00000640: 7475 616c 2065 6e76 6972 6f6e 6d65 6e74  tual environment
-00000650: 2061 6e64 2069 6e73 7461 6c6c 2074 6869   and install thi
-00000660: 7320 7061 636b 6167 650a 616e 6420 6974  s package.and it
-00000670: 7320 7265 7175 6972 656d 656e 7473 2c20  s requirements, 
-00000680: 736f 6d65 7468 696e 6720 6c69 6b65 2074  something like t
-00000690: 6869 733a 0a0a 6060 600a 7079 7468 6f6e  his:..```.python
-000006a0: 3320 2d6d 2076 656e 7620 656e 760a 2e20  3 -m venv env.. 
-000006b0: 656e 762f 6269 6e2f 6163 7469 7661 7465  env/bin/activate
-000006c0: 0a70 6970 2069 6e73 7461 6c6c 2077 6163  .pip install wac
-000006d0: 7a2d 7369 676e 696e 670a 6060 600a 0a55  z-signing.```..U
-000006e0: 7365 0a2d 2d2d 0a0a 5468 6520 7369 6d70  se.---..The simp
-000006f0: 6c65 7374 2077 6179 2074 6f20 7573 6520  lest way to use 
-00000700: 7468 6973 2073 7973 7465 6d20 6973 2074  this system is t
-00000710: 6f20 7072 6f76 6964 6520 7468 6520 656e  o provide the en
-00000720: 7669 726f 6e6d 656e 740a 7661 7269 6162  vironment.variab
-00000730: 6c65 7320 6044 4f4d 4149 4e60 2061 6e64  les `DOMAIN` and
-00000740: 2060 4345 5254 4e41 4d45 602c 2070 6f73   `CERTNAME`, pos
-00000750: 7369 626c 7920 696e 2061 2060 2e65 6e76  sibly in a `.env
-00000760: 6020 6669 6c65 3b20 7468 650a 7061 636b  ` file; the.pack
-00000770: 6167 6520 7769 6c6c 2074 6865 6e20 7573  age will then us
-00000780: 6520 7468 6520 6b65 7920 6d61 7465 7269  e the key materi
-00000790: 616c 2069 6e0a 602f 6574 632f 6c65 7473  al in.`/etc/lets
-000007a0: 656e 6372 7970 742f 6c69 7665 2f3c 4345  encrypt/live/<CE
-000007b0: 5254 4e41 4d45 3e2f 602e 2028 5468 6520  RTNAME>/`. (The 
-000007c0: 7072 6f76 6973 696f 6e20 6f66 2060 444f  provision of `DO
-000007d0: 4d41 494e 6020 6973 2074 6f0a 6163 636f  MAIN` is to.acco
-000007e0: 6d6d 6f64 6174 6520 7468 6520 706f 7373  mmodate the poss
-000007f0: 6962 696c 6974 7920 7468 6174 2074 6865  ibility that the
-00000800: 2064 6f6d 6169 6e20 6e61 6d65 2077 6520   domain name we 
-00000810: 6361 7265 2061 626f 7574 2069 7320 6e6f  care about is no
-00000820: 740a 7468 6520 6f6e 6520 7468 6174 2077  t.the one that w
-00000830: 6173 206f 7269 6769 6e61 6c6c 7920 7573  as originally us
-00000840: 6564 2074 6f20 6372 6561 7465 2074 6865  ed to create the
-00000850: 2063 6572 742e 2920 5468 656e 2c20 796f   cert.) Then, yo
-00000860: 7520 6361 6e0a 0a60 6060 0a3e 3e3e 2066  u can..```.>>> f
-00000870: 726f 6d20 7761 637a 5f73 6967 6e69 6e67  rom wacz_signing
-00000880: 2069 6d70 6f72 7420 7369 676e 6572 0a3e   import signer.>
-00000890: 3e3e 2066 726f 6d20 6461 7465 7469 6d65  >> from datetime
-000008a0: 2069 6d70 6f72 7420 6461 7465 7469 6d65   import datetime
-000008b0: 0a3e 3e3e 2072 6573 756c 7420 3d20 7369  .>>> result = si
-000008c0: 676e 6572 2e73 6967 6e28 2768 656c 6c6f  gner.sign('hello
-000008d0: 2077 6f72 6c64 2127 2c20 6461 7465 7469   world!', dateti
-000008e0: 6d65 2e75 7463 6e6f 7728 2929 0a3e 3e3e  me.utcnow()).>>>
-000008f0: 2073 6967 6e65 722e 7665 7269 6679 2872   signer.verify(r
-00000900: 6573 756c 7429 0a7b 276f 6273 6572 7665  esult).{'observe
-00000910: 7227 3a20 5b27 6d6b 6365 7274 275d 2c20  r': ['mkcert'], 
-00000920: 2773 6f66 7477 6172 6527 3a20 2777 6163  'software': 'wac
-00000930: 7a2d 7369 676e 696e 6720 302e 322e 3627  z-signing 0.2.6'
-00000940: 2c20 2774 696d 6573 7461 6d70 273a 2027  , 'timestamp': '
-00000950: 3230 3232 2d31 302d 3035 5432 303a 3430  2022-10-05T20:40
-00000960: 3a35 385a 277d 0a60 6060 0a0a 6f72 0a0a  :58Z'}.```..or..
-00000970: 6060 600a 3e3e 3e20 7369 676e 6572 2e76  ```.>>> signer.v
-00000980: 6572 6966 795f 7761 637a 2827 7465 7374  erify_wacz('test
-00000990: 5f66 696c 6573 2f76 616c 6964 5f73 6967  _files/valid_sig
-000009a0: 6e65 645f 6578 616d 706c 655f 312e 7761  ned_example_1.wa
-000009b0: 637a 2729 0a7b 276f 6273 6572 7665 7227  cz').{'observer'
-000009c0: 3a20 5b27 6274 7269 782d 7369 676e 2d74  : ['btrix-sign-t
-000009d0: 6573 742e 7765 6272 6563 6f72 6465 722e  est.webrecorder.
-000009e0: 6e65 7427 5d2c 2027 736f 6674 7761 7265  net'], 'software
-000009f0: 273a 2027 6175 7468 7369 676e 6572 2030  ': 'authsigner 0
-00000a00: 2e33 2e30 272c 2027 7469 6d65 7374 616d  .3.0', 'timestam
-00000a10: 7027 3a20 2732 3032 322d 3031 2d31 3854  p': '2022-01-18T
-00000a20: 3139 3a30 303a 3132 5a27 7d0a 6060 600a  19:00:12Z'}.```.
-00000a30: 0a0a 596f 7520 6361 6e20 616c 736f 2070  ..You can also p
-00000a40: 726f 7669 6465 2063 6572 742c 206b 6579  rovide cert, key
-00000a50: 2c20 616e 6420 7469 6d65 7374 616d 7065  , and timestampe
-00000a60: 7220 6d61 7465 7269 616c 2064 6972 6563  r material direc
-00000a70: 746c 792c 206f 720a 696e 2061 6c74 6572  tly, or.in alter
-00000a80: 6e61 7465 2066 696c 6573 2c20 7573 696e  nate files, usin
-00000a90: 6720 656e 7669 726f 6e6d 656e 7420 7661  g environment va
-00000aa0: 7269 6162 6c65 733a 2079 6f75 204d 5553  riables: you MUS
-00000ab0: 5420 7072 6f76 6964 650a 6044 4f4d 4149  T provide.`DOMAI
-00000ac0: 4e60 3b20 796f 7520 4d55 5354 2070 726f  N`; you MUST pro
-00000ad0: 7669 6465 2065 6974 6865 7220 6043 4552  vide either `CER
-00000ae0: 544e 414d 4560 206f 7220 6f6e 6520 6f66  TNAME` or one of
-00000af0: 2060 4345 5254 6020 616e 640a 6043 4552   `CERT` and.`CER
-00000b00: 5446 494c 4560 3b20 6966 2079 6f75 2068  TFILE`; if you h
-00000b10: 6176 6520 7365 7420 6043 4552 544e 414d  ave set `CERTNAM
-00000b20: 4560 2c20 796f 7520 4d55 5354 2070 726f  E`, you MUST pro
-00000b30: 7669 6465 206f 6e65 206f 6620 604b 4559  vide one of `KEY
-00000b40: 600a 616e 6420 604b 4559 4649 4c45 602e  `.and `KEYFILE`.
-00000b50: 2049 6620 796f 7527 7265 206e 6f74 2075   If you're not u
-00000b60: 7369 6e67 204c 6574 7365 6e63 7279 7074  sing Letsencrypt
-00000b70: 2063 6572 7473 2c20 796f 7527 6c6c 206e   certs, you'll n
-00000b80: 6565 6420 746f 0a73 6574 2060 4345 5254  eed to.set `CERT
-00000b90: 5f52 4f4f 5453 602e 2059 6f75 206d 6179  _ROOTS`. You may
-00000ba0: 2061 6c73 6f20 636f 6e66 6967 7572 6520   also configure 
-00000bb0: 7468 6520 7469 6d65 7374 616d 7065 7220  the timestamper 
-00000bc0: 7769 7468 2060 5453 5f43 4552 5460 0a6f  with `TS_CERT`.o
-00000bd0: 7220 6054 535f 4345 5254 4649 4c45 6020  r `TS_CERTFILE` 
-00000be0: 616e 6420 6054 535f 5552 4c60 2061 6e64  and `TS_URL` and
-00000bf0: 2060 5453 5f52 4f4f 5453 602e 2059 6f75   `TS_ROOTS`. You
-00000c00: 206d 6179 2061 6464 6974 696f 6e61 6c6c   may additionall
-00000c10: 790a 6368 616e 6765 2074 6865 2060 4345  y.change the `CE
-00000c20: 5254 5f44 5552 4154 494f 4e60 2066 726f  RT_DURATION` fro
-00000c30: 6d20 6974 7320 6465 6661 756c 7420 6f66  m its default of
-00000c40: 2037 2064 6179 732c 2061 6e64 2074 6865   7 days, and the
-00000c50: 0a60 5354 414d 505f 4455 5241 5449 4f4e  .`STAMP_DURATION
-00000c60: 6020 6672 6f6d 2069 7473 2064 6566 6175  ` from its defau
-00000c70: 6c74 206f 6620 3130 206d 696e 7574 6573  lt of 10 minutes
-00000c80: 2e0a 0a59 6f75 206d 6179 2077 616e 7420  ...You may want 
-00000c90: 746f 2063 6174 6368 2060 7369 676e 6572  to catch `signer
-00000ca0: 2e53 6967 6e69 6e67 4578 6365 7074 696f  .SigningExceptio
-00000cb0: 6e60 2061 6e64 0a60 7369 676e 6572 2e56  n` and.`signer.V
-00000cc0: 6572 6966 6963 6174 696f 6e45 7863 6570  erificationExcep
-00000cd0: 7469 6f6e 602e 0a0a 466f 7220 6c6f 6361  tion`...For loca
-00000ce0: 6c20 6465 7665 6c6f 706d 656e 7420 616e  l development an
-00000cf0: 6420 7465 7374 696e 672c 2079 6f75 276c  d testing, you'l
-00000d00: 6c20 6e65 6564 2074 6f20 696e 7374 616c  l need to instal
-00000d10: 6c0a 5b6d 6b63 6572 745d 2868 7474 7073  l.[mkcert](https
-00000d20: 3a2f 2f67 6974 6875 622e 636f 6d2f 4669  ://github.com/Fi
-00000d30: 6c6f 536f 7474 696c 652f 6d6b 6365 7274  loSottile/mkcert
-00000d40: 292e 2054 6f20 6765 6e65 7261 7465 2063  ). To generate c
-00000d50: 6572 7473 2061 6e64 0a73 6574 2075 7020  erts and.set up 
-00000d60: 7468 6520 656e 7669 726f 6e6d 656e 742c  the environment,
-00000d70: 2072 756e 0a0a 6060 600a 6261 7368 202e   run..```.bash .
-00000d80: 2f73 6574 2d75 702d 646f 742d 656e 762e  /set-up-dot-env.
-00000d90: 7368 0a60 6060 0a0a 4365 7274 6966 6963  sh.```..Certific
-00000da0: 6174 6520 6d61 6e61 6765 6d65 6e74 0a2d  ate management.-
-00000db0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00000dc0: 2d2d 2d2d 2d0a 0a49 6620 796f 7527 7265  -----..If you're
-00000dd0: 2075 7369 6e67 204c 6574 7365 6e63 7279   using Letsencry
-00000de0: 7074 2063 6572 7473 2c20 616e 6420 796f  pt certs, and yo
-00000df0: 7520 7761 6e74 2074 6865 6d20 746f 2062  u want them to b
-00000e00: 6520 7661 6c69 6420 666f 7220 610a 7368  e valid for a.sh
-00000e10: 6f72 7420 6475 7261 7469 6f6e 2c20 7361  ort duration, sa
-00000e20: 7920 7468 6520 6465 6661 756c 7420 6f66  y the default of
-00000e30: 2073 6576 656e 2064 6179 732c 2079 6f75   seven days, you
-00000e40: 2077 6f75 6c64 206e 6565 6420 746f 2066   would need to f
-00000e50: 6f72 6365 0a61 2072 656e 6577 616c 2061  orce.a renewal a
-00000e60: 6674 6572 2061 2077 6565 6b2c 2074 6865  fter a week, the
-00000e70: 6e20 6d61 6e75 616c 6c79 2072 6576 6f6b  n manually revok
-00000e80: 6520 7468 6520 7072 6576 696f 7573 2077  e the previous w
-00000e90: 6565 6b27 7320 6365 7274 2c0a 736f 6d65  eek's cert,.some
-00000ea0: 7468 696e 6720 6c69 6b65 0a0a 6060 600a  thing like..```.
-00000eb0: 6365 7274 626f 7420 7265 6e65 7720 2d2d  certbot renew --
-00000ec0: 666f 7263 652d 7265 6e65 7761 6c20 2d2d  force-renewal --
-00000ed0: 6465 706c 6f79 2d68 6f6f 6b20 2f70 6174  deploy-hook /pat
-00000ee0: 682f 746f 2f64 6570 6c6f 792d 686f 6f6b  h/to/deploy-hook
-00000ef0: 2d73 6372 6970 740a 6060 600a 0a28 6f72  -script.```..(or
-00000f00: 206a 7573 7420 7075 7420 7468 6520 7363   just put the sc
-00000f10: 7269 7074 2069 6e20 602f 6574 632f 6c65  ript in `/etc/le
-00000f20: 7473 656e 6372 7970 742f 7265 6e65 7761  tsencrypt/renewa
-00000f30: 6c2d 686f 6f6b 732f 6465 706c 6f79 2f60  l-hooks/deploy/`
-00000f40: 0a0a 7768 6572 6520 7468 6520 7363 7269  ..where the scri
-00000f50: 7074 2072 756e 7320 736f 6d65 7468 696e  pt runs somethin
-00000f60: 6720 6c69 6b65 0a0a 6060 600a 6365 7274  g like..```.cert
-00000f70: 626f 7420 7265 766f 6b65 202d 2d63 6572  bot revoke --cer
-00000f80: 742d 7061 7468 2060 6c73 202d 7420 2f65  t-path `ls -t /e
-00000f90: 7463 2f6c 6574 7365 6e63 7279 7074 2f61  tc/letsencrypt/a
-00000fa0: 7263 6869 7665 2f24 7b43 4552 544e 414d  rchive/${CERTNAM
-00000fb0: 457d 2f63 6572 742a 2e70 656d 207c 2068  E}/cert*.pem | h
-00000fc0: 6561 6420 2d6e 2032 207c 2074 6169 6c20  ead -n 2 | tail 
-00000fd0: 2d6e 2031 6020 2d2d 7265 6173 6f6e 2065  -n 1` --reason e
-00000fe0: 7870 6972 6174 696f 6e0a 6060 600a 0a28  xpiration.```..(
-00000ff0: 4275 7420 7472 6970 6c65 2d63 6865 636b  But triple-check
-00001000: 2074 6869 7320 6265 666f 7265 2061 7474   this before att
-00001010: 656d 7074 696e 6720 6974 2069 6e20 6561  empting it in ea
-00001020: 726e 6573 743b 2061 2063 6f72 7265 6374  rnest; a correct
-00001030: 0a65 7861 6d70 6c65 206d 6179 2066 6f6c  .example may fol
-00001040: 6c6f 772e 290a 0a55 7365 2063 6173 6573  low.)..Use cases
-00001050: 0a2d 2d2d 2d2d 2d2d 2d2d 0a0a 5468 6973  .---------..This
-00001060: 2070 6163 6b61 6765 2063 6f75 6c64 2062   package could b
-00001070: 6520 7573 6564 2069 6e20 6120 7469 6e79  e used in a tiny
-00001080: 2077 6562 2041 5049 2c20 6f66 2063 6f75   web API, of cou
-00001090: 7273 653b 2073 6565 0a5b 6578 616d 706c  rse; see.[exampl
-000010a0: 6573 2f77 6562 2d61 7069 2f5d 2865 7861  es/web-api/](exa
-000010b0: 6d70 6c65 732f 7765 622d 6170 692f 292e  mples/web-api/).
-000010c0: 2049 7420 636f 756c 6420 616c 736f 2062   It could also b
-000010d0: 6520 696e 7465 6772 6174 6564 0a69 6e74  e integrated.int
-000010e0: 6f20 6120 7072 6f64 7563 6572 206f 6620  o a producer of 
-000010f0: 5741 435a 2066 696c 6573 2c20 6c69 6b65  WACZ files, like
-00001100: 2061 2066 7574 7572 6520 7665 7273 696f   a future versio
-00001110: 6e20 6f66 2050 6572 6d61 2c20 7768 6963  n of Perma, whic
-00001120: 680a 776f 756c 6420 7369 676e 2061 7263  h.would sign arc
-00001130: 6869 7665 7320 696e 7465 726e 616c 6c79  hives internally
-00001140: 3b20 6974 2063 6f75 6c64 2061 6c73 6f20  ; it could also 
-00001150: 6265 2072 756e 2069 6e20 6120 6c61 6d62  be run in a lamb
-00001160: 6461 2c0a 7768 6963 6820 6973 2077 6879  da,.which is why
-00001170: 2069 7427 7320 706f 7373 6962 6c65 2074   it's possible t
-00001180: 6f20 7072 6f76 6964 6520 6b65 7920 6d61  o provide key ma
-00001190: 7465 7269 616c 2064 6972 6563 746c 7920  terial directly 
-000011a0: 696e 0a65 6e76 6972 6f6e 6d65 6e74 2076  in.environment v
-000011b0: 6172 6961 626c 6573 2e0a 0a              ariables...
+00000600: 7468 7369 676e 2e0a 0a3c 6120 6872 6566  thsign...<a href
+00000610: 3d22 6874 7470 733a 2f2f 746f 6f6c 732e  ="https://tools.
+00000620: 7065 726d 612e 6363 223e 3c69 6d67 2073  perma.cc"><img s
+00000630: 7263 3d22 6874 7470 733a 2f2f 6769 7468  rc="https://gith
+00000640: 7562 2e63 6f6d 2f68 6172 7661 7264 2d6c  ub.com/harvard-l
+00000650: 696c 2f74 6f6f 6c73 2e70 6572 6d61 2e63  il/tools.perma.c
+00000660: 632f 626c 6f62 2f6d 6169 6e2f 7065 726d  c/blob/main/perm
+00000670: 612d 746f 6f6c 732e 706e 673f 7261 773d  a-tools.png?raw=
+00000680: 3122 2061 6c74 3d22 5065 726d 6120 546f  1" alt="Perma To
+00000690: 6f6c 7322 2077 6964 7468 3d22 3135 3022  ols" width="150"
+000006a0: 3e3c 2f61 3e0a 0a49 6e73 7461 6c6c 6174  ></a>..Installat
+000006b0: 696f 6e0a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ion.------------
+000006c0: 0a0a 466f 7220 7265 6775 6c61 7220 7573  ..For regular us
+000006d0: 652c 2073 7461 7274 2061 2076 6972 7475  e, start a virtu
+000006e0: 616c 2065 6e76 6972 6f6e 6d65 6e74 2061  al environment a
+000006f0: 6e64 2069 6e73 7461 6c6c 2074 6869 7320  nd install this 
+00000700: 7061 636b 6167 650a 616e 6420 6974 7320  package.and its 
+00000710: 7265 7175 6972 656d 656e 7473 2c20 736f  requirements, so
+00000720: 6d65 7468 696e 6720 6c69 6b65 2074 6869  mething like thi
+00000730: 733a 0a0a 6060 600a 7079 7468 6f6e 3320  s:..```.python3 
+00000740: 2d6d 2076 656e 7620 656e 760a 2e20 656e  -m venv env.. en
+00000750: 762f 6269 6e2f 6163 7469 7661 7465 0a70  v/bin/activate.p
+00000760: 6970 2069 6e73 7461 6c6c 2077 6163 7a2d  ip install wacz-
+00000770: 7369 676e 696e 670a 6060 600a 0a55 7365  signing.```..Use
+00000780: 0a2d 2d2d 0a0a 5468 6520 7369 6d70 6c65  .---..The simple
+00000790: 7374 2077 6179 2074 6f20 7573 6520 7468  st way to use th
+000007a0: 6973 2073 7973 7465 6d20 6973 2074 6f20  is system is to 
+000007b0: 7072 6f76 6964 6520 7468 6520 656e 7669  provide the envi
+000007c0: 726f 6e6d 656e 740a 7661 7269 6162 6c65  ronment.variable
+000007d0: 7320 6044 4f4d 4149 4e60 2061 6e64 2060  s `DOMAIN` and `
+000007e0: 4345 5254 4e41 4d45 602c 2070 6f73 7369  CERTNAME`, possi
+000007f0: 626c 7920 696e 2061 2060 2e65 6e76 6020  bly in a `.env` 
+00000800: 6669 6c65 3b20 7468 650a 7061 636b 6167  file; the.packag
+00000810: 6520 7769 6c6c 2074 6865 6e20 7573 6520  e will then use 
+00000820: 7468 6520 6b65 7920 6d61 7465 7269 616c  the key material
+00000830: 2069 6e0a 602f 6574 632f 6c65 7473 656e   in.`/etc/letsen
+00000840: 6372 7970 742f 6c69 7665 2f3c 4345 5254  crypt/live/<CERT
+00000850: 4e41 4d45 3e2f 602e 2028 5468 6520 7072  NAME>/`. (The pr
+00000860: 6f76 6973 696f 6e20 6f66 2060 444f 4d41  ovision of `DOMA
+00000870: 494e 6020 6973 2074 6f0a 6163 636f 6d6d  IN` is to.accomm
+00000880: 6f64 6174 6520 7468 6520 706f 7373 6962  odate the possib
+00000890: 696c 6974 7920 7468 6174 2074 6865 2064  ility that the d
+000008a0: 6f6d 6169 6e20 6e61 6d65 2077 6520 6361  omain name we ca
+000008b0: 7265 2061 626f 7574 2069 7320 6e6f 740a  re about is not.
+000008c0: 7468 6520 6f6e 6520 7468 6174 2077 6173  the one that was
+000008d0: 206f 7269 6769 6e61 6c6c 7920 7573 6564   originally used
+000008e0: 2074 6f20 6372 6561 7465 2074 6865 2063   to create the c
+000008f0: 6572 742e 2920 5468 656e 2c20 796f 7520  ert.) Then, you 
+00000900: 6361 6e0a 0a60 6060 0a3e 3e3e 2066 726f  can..```.>>> fro
+00000910: 6d20 7761 637a 5f73 6967 6e69 6e67 2069  m wacz_signing i
+00000920: 6d70 6f72 7420 7369 676e 6572 0a3e 3e3e  mport signer.>>>
+00000930: 2066 726f 6d20 6461 7465 7469 6d65 2069   from datetime i
+00000940: 6d70 6f72 7420 6461 7465 7469 6d65 0a3e  mport datetime.>
+00000950: 3e3e 2072 6573 756c 7420 3d20 7369 676e  >> result = sign
+00000960: 6572 2e73 6967 6e28 2768 656c 6c6f 2077  er.sign('hello w
+00000970: 6f72 6c64 2127 2c20 6461 7465 7469 6d65  orld!', datetime
+00000980: 2e75 7463 6e6f 7728 2929 0a3e 3e3e 2073  .utcnow()).>>> s
+00000990: 6967 6e65 722e 7665 7269 6679 2872 6573  igner.verify(res
+000009a0: 756c 7429 0a7b 276f 6273 6572 7665 7227  ult).{'observer'
+000009b0: 3a20 5b27 6d6b 6365 7274 275d 2c20 2773  : ['mkcert'], 's
+000009c0: 6f66 7477 6172 6527 3a20 2777 6163 7a2d  oftware': 'wacz-
+000009d0: 7369 676e 696e 6720 302e 322e 3627 2c20  signing 0.2.6', 
+000009e0: 2774 696d 6573 7461 6d70 273a 2027 3230  'timestamp': '20
+000009f0: 3232 2d31 302d 3035 5432 303a 3430 3a35  22-10-05T20:40:5
+00000a00: 385a 277d 0a60 6060 0a0a 6f72 0a0a 6060  8Z'}.```..or..``
+00000a10: 600a 3e3e 3e20 7369 676e 6572 2e76 6572  `.>>> signer.ver
+00000a20: 6966 795f 7761 637a 2827 7465 7374 5f66  ify_wacz('test_f
+00000a30: 696c 6573 2f76 616c 6964 5f73 6967 6e65  iles/valid_signe
+00000a40: 645f 6578 616d 706c 655f 312e 7761 637a  d_example_1.wacz
+00000a50: 2729 0a7b 276f 6273 6572 7665 7227 3a20  ').{'observer': 
+00000a60: 5b27 6274 7269 782d 7369 676e 2d74 6573  ['btrix-sign-tes
+00000a70: 742e 7765 6272 6563 6f72 6465 722e 6e65  t.webrecorder.ne
+00000a80: 7427 5d2c 2027 736f 6674 7761 7265 273a  t'], 'software':
+00000a90: 2027 6175 7468 7369 676e 6572 2030 2e33   'authsigner 0.3
+00000aa0: 2e30 272c 2027 7469 6d65 7374 616d 7027  .0', 'timestamp'
+00000ab0: 3a20 2732 3032 322d 3031 2d31 3854 3139  : '2022-01-18T19
+00000ac0: 3a30 303a 3132 5a27 7d0a 6060 600a 0a0a  :00:12Z'}.```...
+00000ad0: 596f 7520 6361 6e20 616c 736f 2070 726f  You can also pro
+00000ae0: 7669 6465 2063 6572 742c 206b 6579 2c20  vide cert, key, 
+00000af0: 616e 6420 7469 6d65 7374 616d 7065 7220  and timestamper 
+00000b00: 6d61 7465 7269 616c 2064 6972 6563 746c  material directl
+00000b10: 792c 206f 720a 696e 2061 6c74 6572 6e61  y, or.in alterna
+00000b20: 7465 2066 696c 6573 2c20 7573 696e 6720  te files, using 
+00000b30: 656e 7669 726f 6e6d 656e 7420 7661 7269  environment vari
+00000b40: 6162 6c65 733a 2079 6f75 204d 5553 5420  ables: you MUST 
+00000b50: 7072 6f76 6964 650a 6044 4f4d 4149 4e60  provide.`DOMAIN`
+00000b60: 3b20 796f 7520 4d55 5354 2070 726f 7669  ; you MUST provi
+00000b70: 6465 2065 6974 6865 7220 6043 4552 544e  de either `CERTN
+00000b80: 414d 4560 206f 7220 6f6e 6520 6f66 2060  AME` or one of `
+00000b90: 4345 5254 6020 616e 640a 6043 4552 5446  CERT` and.`CERTF
+00000ba0: 494c 4560 3b20 6966 2079 6f75 2068 6176  ILE`; if you hav
+00000bb0: 6520 7365 7420 6043 4552 544e 414d 4560  e set `CERTNAME`
+00000bc0: 2c20 796f 7520 4d55 5354 2070 726f 7669  , you MUST provi
+00000bd0: 6465 206f 6e65 206f 6620 604b 4559 600a  de one of `KEY`.
+00000be0: 616e 6420 604b 4559 4649 4c45 602e 2049  and `KEYFILE`. I
+00000bf0: 6620 796f 7527 7265 206e 6f74 2075 7369  f you're not usi
+00000c00: 6e67 204c 6574 7365 6e63 7279 7074 2063  ng Letsencrypt c
+00000c10: 6572 7473 2c20 796f 7527 6c6c 206e 6565  erts, you'll nee
+00000c20: 6420 746f 0a73 6574 2060 4345 5254 5f52  d to.set `CERT_R
+00000c30: 4f4f 5453 602e 2059 6f75 206d 6179 2061  OOTS`. You may a
+00000c40: 6c73 6f20 636f 6e66 6967 7572 6520 7468  lso configure th
+00000c50: 6520 7469 6d65 7374 616d 7065 7220 7769  e timestamper wi
+00000c60: 7468 2060 5453 5f43 4552 5460 0a6f 7220  th `TS_CERT`.or 
+00000c70: 6054 535f 4345 5254 4649 4c45 6020 616e  `TS_CERTFILE` an
+00000c80: 6420 6054 535f 5552 4c60 2061 6e64 2060  d `TS_URL` and `
+00000c90: 5453 5f52 4f4f 5453 602e 2059 6f75 206d  TS_ROOTS`. You m
+00000ca0: 6179 2061 6464 6974 696f 6e61 6c6c 790a  ay additionally.
+00000cb0: 6368 616e 6765 2074 6865 2060 4345 5254  change the `CERT
+00000cc0: 5f44 5552 4154 494f 4e60 2066 726f 6d20  _DURATION` from 
+00000cd0: 6974 7320 6465 6661 756c 7420 6f66 2037  its default of 7
+00000ce0: 2064 6179 732c 2061 6e64 2074 6865 0a60   days, and the.`
+00000cf0: 5354 414d 505f 4455 5241 5449 4f4e 6020  STAMP_DURATION` 
+00000d00: 6672 6f6d 2069 7473 2064 6566 6175 6c74  from its default
+00000d10: 206f 6620 3130 206d 696e 7574 6573 2e0a   of 10 minutes..
+00000d20: 0a59 6f75 206d 6179 2077 616e 7420 746f  .You may want to
+00000d30: 2063 6174 6368 2060 7369 676e 6572 2e53   catch `signer.S
+00000d40: 6967 6e69 6e67 4578 6365 7074 696f 6e60  igningException`
+00000d50: 2061 6e64 0a60 7369 676e 6572 2e56 6572   and.`signer.Ver
+00000d60: 6966 6963 6174 696f 6e45 7863 6570 7469  ificationExcepti
+00000d70: 6f6e 602e 0a0a 466f 7220 6c6f 6361 6c20  on`...For local 
+00000d80: 6465 7665 6c6f 706d 656e 7420 616e 6420  development and 
+00000d90: 7465 7374 696e 672c 2079 6f75 276c 6c20  testing, you'll 
+00000da0: 6e65 6564 2074 6f20 696e 7374 616c 6c0a  need to install.
+00000db0: 5b6d 6b63 6572 745d 2868 7474 7073 3a2f  [mkcert](https:/
+00000dc0: 2f67 6974 6875 622e 636f 6d2f 4669 6c6f  /github.com/Filo
+00000dd0: 536f 7474 696c 652f 6d6b 6365 7274 292e  Sottile/mkcert).
+00000de0: 2054 6f20 6765 6e65 7261 7465 2063 6572   To generate cer
+00000df0: 7473 2061 6e64 0a73 6574 2075 7020 7468  ts and.set up th
+00000e00: 6520 656e 7669 726f 6e6d 656e 742c 2072  e environment, r
+00000e10: 756e 0a0a 6060 600a 6261 7368 202e 2f73  un..```.bash ./s
+00000e20: 6574 2d75 702d 646f 742d 656e 762e 7368  et-up-dot-env.sh
+00000e30: 0a60 6060 0a0a 4365 7274 6966 6963 6174  .```..Certificat
+00000e40: 6520 6d61 6e61 6765 6d65 6e74 0a2d 2d2d  e management.---
+00000e50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000e60: 2d2d 2d0a 0a49 6620 796f 7527 7265 2075  ---..If you're u
+00000e70: 7369 6e67 204c 6574 7365 6e63 7279 7074  sing Letsencrypt
+00000e80: 2063 6572 7473 2c20 616e 6420 796f 7520   certs, and you 
+00000e90: 7761 6e74 2074 6865 6d20 746f 2062 6520  want them to be 
+00000ea0: 7661 6c69 6420 666f 7220 610a 7368 6f72  valid for a.shor
+00000eb0: 7420 6475 7261 7469 6f6e 2c20 7361 7920  t duration, say 
+00000ec0: 7468 6520 6465 6661 756c 7420 6f66 2073  the default of s
+00000ed0: 6576 656e 2064 6179 732c 2079 6f75 2077  even days, you w
+00000ee0: 6f75 6c64 206e 6565 6420 746f 2066 6f72  ould need to for
+00000ef0: 6365 0a61 2072 656e 6577 616c 2061 6674  ce.a renewal aft
+00000f00: 6572 2061 2077 6565 6b2c 2074 6865 6e20  er a week, then 
+00000f10: 6d61 6e75 616c 6c79 2072 6576 6f6b 6520  manually revoke 
+00000f20: 7468 6520 7072 6576 696f 7573 2077 6565  the previous wee
+00000f30: 6b27 7320 6365 7274 2c0a 736f 6d65 7468  k's cert,.someth
+00000f40: 696e 6720 6c69 6b65 0a0a 6060 600a 6365  ing like..```.ce
+00000f50: 7274 626f 7420 7265 6e65 7720 2d2d 666f  rtbot renew --fo
+00000f60: 7263 652d 7265 6e65 7761 6c20 2d2d 6465  rce-renewal --de
+00000f70: 706c 6f79 2d68 6f6f 6b20 2f70 6174 682f  ploy-hook /path/
+00000f80: 746f 2f64 6570 6c6f 792d 686f 6f6b 2d73  to/deploy-hook-s
+00000f90: 6372 6970 740a 6060 600a 0a28 6f72 206a  cript.```..(or j
+00000fa0: 7573 7420 7075 7420 7468 6520 7363 7269  ust put the scri
+00000fb0: 7074 2069 6e20 602f 6574 632f 6c65 7473  pt in `/etc/lets
+00000fc0: 656e 6372 7970 742f 7265 6e65 7761 6c2d  encrypt/renewal-
+00000fd0: 686f 6f6b 732f 6465 706c 6f79 2f60 0a0a  hooks/deploy/`..
+00000fe0: 7768 6572 6520 7468 6520 7363 7269 7074  where the script
+00000ff0: 2072 756e 7320 736f 6d65 7468 696e 6720   runs something 
+00001000: 6c69 6b65 0a0a 6060 600a 6365 7274 626f  like..```.certbo
+00001010: 7420 7265 766f 6b65 202d 2d63 6572 742d  t revoke --cert-
+00001020: 7061 7468 2060 6c73 202d 7420 2f65 7463  path `ls -t /etc
+00001030: 2f6c 6574 7365 6e63 7279 7074 2f61 7263  /letsencrypt/arc
+00001040: 6869 7665 2f24 7b43 4552 544e 414d 457d  hive/${CERTNAME}
+00001050: 2f63 6572 742a 2e70 656d 207c 2068 6561  /cert*.pem | hea
+00001060: 6420 2d6e 2032 207c 2074 6169 6c20 2d6e  d -n 2 | tail -n
+00001070: 2031 6020 2d2d 7265 6173 6f6e 2065 7870   1` --reason exp
+00001080: 6972 6174 696f 6e0a 6060 600a 0a28 4275  iration.```..(Bu
+00001090: 7420 7472 6970 6c65 2d63 6865 636b 2074  t triple-check t
+000010a0: 6869 7320 6265 666f 7265 2061 7474 656d  his before attem
+000010b0: 7074 696e 6720 6974 2069 6e20 6561 726e  pting it in earn
+000010c0: 6573 743b 2061 2063 6f72 7265 6374 0a65  est; a correct.e
+000010d0: 7861 6d70 6c65 206d 6179 2066 6f6c 6c6f  xample may follo
+000010e0: 772e 290a 0a55 7365 2063 6173 6573 0a2d  w.)..Use cases.-
+000010f0: 2d2d 2d2d 2d2d 2d2d 0a0a 5468 6973 2070  --------..This p
+00001100: 6163 6b61 6765 2063 6f75 6c64 2062 6520  ackage could be 
+00001110: 7573 6564 2069 6e20 6120 7469 6e79 2077  used in a tiny w
+00001120: 6562 2041 5049 2c20 6f66 2063 6f75 7273  eb API, of cours
+00001130: 653b 2073 6565 0a5b 6578 616d 706c 6573  e; see.[examples
+00001140: 2f77 6562 2d61 7069 2f5d 2865 7861 6d70  /web-api/](examp
+00001150: 6c65 732f 7765 622d 6170 692f 292e 2049  les/web-api/). I
+00001160: 7420 636f 756c 6420 616c 736f 2062 6520  t could also be 
+00001170: 696e 7465 6772 6174 6564 0a69 6e74 6f20  integrated.into 
+00001180: 6120 7072 6f64 7563 6572 206f 6620 5741  a producer of WA
+00001190: 435a 2066 696c 6573 2c20 6c69 6b65 2061  CZ files, like a
+000011a0: 2066 7574 7572 6520 7665 7273 696f 6e20   future version 
+000011b0: 6f66 2050 6572 6d61 2c20 7768 6963 680a  of Perma, which.
+000011c0: 776f 756c 6420 7369 676e 2061 7263 6869  would sign archi
+000011d0: 7665 7320 696e 7465 726e 616c 6c79 3b20  ves internally; 
+000011e0: 6974 2063 6f75 6c64 2061 6c73 6f20 6265  it could also be
+000011f0: 2072 756e 2069 6e20 6120 6c61 6d62 6461   run in a lambda
+00001200: 2c0a 7768 6963 6820 6973 2077 6879 2069  ,.which is why i
+00001210: 7427 7320 706f 7373 6962 6c65 2074 6f20  t's possible to 
+00001220: 7072 6f76 6964 6520 6b65 7920 6d61 7465  provide key mate
+00001230: 7269 616c 2064 6972 6563 746c 7920 696e  rial directly in
+00001240: 0a65 6e76 6972 6f6e 6d65 6e74 2076 6172  .environment var
+00001250: 6961 626c 6573 2e0a 0a                   iables...
```

